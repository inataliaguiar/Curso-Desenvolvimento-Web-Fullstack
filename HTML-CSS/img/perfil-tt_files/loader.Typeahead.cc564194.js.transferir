(window.webpackJsonp=window.webpackJsonp||[]).push([[193],{"3A2y":function(e,t,n){"use strict";n("KOtZ"),n("+KXO");var r=n("zrOZ");t.a=function(e,t){var n=Object(r.a)(Array.isArray(t)?t:[t]);return Object.keys(e).reduce((function(t,r){return n.has(r)||(t[r]=e[r]),t}),{})}},"3EFP":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return c}));var r="ArrowDown",a="ArrowUp",o="Enter",i="Escape",s="ESC",c="Tab"},"4e/K":function(e,t,n){"use strict";n.r(t),n.d(t,"TypeaheadInput",(function(){return L})),n.d(t,"styles",(function(){return U}));n("LW0h"),n("IAdD");var r=n("1Pcy"),a=n.n(r),o=n("W/Kd"),i=n.n(o),s=n("KEM+"),c=n.n(s),u=n("3EFP"),l=n("ERkP"),d=n("3XMw"),p=n.n(d),h=n("Gzkc"),f=n.n(h),m=n("oQhu"),y=n("WPfJ"),_=n("7nmT"),v=n.n(_),S=n("Es6L"),b=(n("AxOO"),n("OEYw")),g=n("rHpw"),I=g.a.create({initial:{alignItems:"stretch",borderWidth:0,borderStyle:"solid",boxSizing:"border-box",display:"flex",flexDirection:"column",margin:0,padding:0,position:"relative",zIndex:0,minHeight:0,minWidth:0}}),E=(n("aWzz"),n("7DT3")),x=n.n(E),w=n("3xO4"),R=n.n(w),C=n("xoZN"),O=n("6OUF"),D=n("pf9B"),T=n("cHvH"),A=n("oEoC"),k=n("GZwR"),F=p.a.f065ba8c,j=Object(m.a)((function(e){return{bottom:0,paddingBottom:"calc(2.5 * "+g.a.theme.spaces.jumbo+")",position:"fixed",top:e+"px",transform:[{translate3d:"0,0,0"}]}})),P=function(e){return x()("form",Object.assign({},e,{action:"#",style:[I.initial,U.wrapper]}))},N=1,L=function(e){function t(t,n){var r;return r=e.call(this,t)||this,c()(a()(r),"_render",(function(e){var t=e.windowWidth,n=r.props,a=n.alwaysOpen,o=n.disableClearButton,i=n.inputStyle,s=n.placeholder,c=n.rounded,u=n.renderInSearchField,d=n.shouldAutoFocus,p=n.shouldFocusOnClear,h=n.style,m=n.testID,y=r.state.showTypeaheadDropdown||a;return l.createElement(R.a,{onLayout:r._handleLayout,ref:r._setRootContainerNode,style:[U.root,h]},l.createElement(C.a,{onKeyDown:r._handleKeyDown,style:U.keydownInputListener},l.createElement(P,{accessibilityLabel:s,accessibilityRole:"search",onSubmit:r._handleFormSubmit},l.createElement(R.a,{ref:r._setInputContainerNode,style:i},l.createElement(O.a,{Icon:f.a,ariaActiveDescendant:r.state.ariaDescendantId,ariaAutocomplete:"list",ariaExpanded:y,ariaLabel:F,ariaOwns:r._dropdownDomId,ariaRole:"combobox",autoComplete:"off",autoCorrect:!1,autoFocus:d,contentBelow:u&&u(),focusOnClear:p,onChange:r._handleInputChange,onClear:r._handleInputClear,onFocus:r._handleInputFocus,onLayout:r._handleInputLayoutChanged,placeholder:s,ref:r._setInputRef,returnKeyType:"search",styleType:c?"pill":"selection",testID:m,value:r.state.query,withClearButton:!o&&r.state.showTypeaheadDropdown})),l.createElement(R.a,{style:U.typeaheadContainer},y?r._renderDropdown(t):null))))})),c()(a()(r),"_renderDropdown",(function(e){var t=r.props,n=t.filter,a=t.getItemDisabledMessage,o=t.getItemIsDisabled,i=t.getTopicExactMatch,s=t.getUserExactMatch,c=t.injectedItems,u=t.isModal,d=t.maxEvents,p=t.maxTopics,h=t.renderEmptyState,f=t.renderUserDecoration,m=t.selectedItems,y=t.shouldDeferPrefetch,_=t.source,v=t.withFixedPositioning,I=t.withSectionDivider,E=t.renderNoResultsState,x=e>=g.a.theme.breakpoints.medium||Object(S.a)(),w=r.state,R=w.dropdownOffset,C=w.query,O=u?U.modalDropdown:[U.dropdown,!x&&v&&R?j(R):null,x&&U.wideModeDropdown],D={ariaDescendantId:r.state.ariaDescendantId,domId:r._dropdownDomId,onDismiss:r._handleOnEmptyStateDismiss,onItemFocusChanged:r._handleItemFocusChanged,onRef:r._handleEmptyStateRef,style:O};return h&&!C?h(D):l.createElement(b.a,{ariaDescendantId:r.state.ariaDescendantId,domId:r._dropdownDomId,filter:n,getItemDisabledMessage:a,getItemIsDisabled:o,getTopicExactMatch:i,getUserExactMatch:s,injectedItems:c,maxEvents:d,maxTopics:p,onItemClick:r._handleItemClick,onItemFocusChanged:r._handleItemFocusChanged,onRef:r._handleTypeaheadRef,query:C,renderNoResultsState:C?E:void 0,renderUserDecoration:f,selectedItems:m,shouldDeferPrefetch:y,source:_,style:O,withSectionDivider:I})})),c()(a()(r),"_dismissDropdown",(function(){r.setState({showTypeaheadDropdown:!1}),r.props.onDismiss&&r.props.onDismiss()})),c()(a()(r),"_handleOnEmptyStateDismiss",(function(){r._dismissDropdown(),r._inputRef&&r._inputRef.blur()})),c()(a()(r),"_handleLayout",(function(){r._updatePosition()})),c()(a()(r),"_handleInputLayoutChanged",(function(){r._updatePosition()})),c()(a()(r),"_updatePosition",(function(){if(r._inputContainerNode){var e=r._inputContainerNode.getBoundingClientRect().bottom;e!==r.state.dropdownOffset&&r.setState({dropdownOffset:e})}})),c()(a()(r),"_handleTypeaheadRef",(function(e){r._typeaheadRef=e})),c()(a()(r),"_handleEmptyStateRef",(function(e){r._emptyStateRef=e})),c()(a()(r),"_setRootContainerNode",(function(e){r._rootContainerNode=v.a.findDOMNode(e)})),c()(a()(r),"_setInputRef",(function(e){r._inputRef=e})),c()(a()(r),"_setInputContainerNode",(function(e){r._inputContainerNode=v.a.findDOMNode(e),r._inputContainerNode&&r._updatePosition()})),c()(a()(r),"_handleFocusChange",(function(e){var t=D.a.getCount()>0;r._rootContainerNode&&r._rootContainerNode.contains(e.target)||t||r.state.showTypeaheadDropdown&&r._dismissDropdown()})),c()(a()(r),"_handleKeyDown",(function(e){var t=e.key,n=r.state.showTypeaheadDropdown;if(Object(A.e)(e)){if(t===u.a)return r._focusNext(),void e.preventDefault();if(t===u.b)return r._focusPrevious(),void e.preventDefault();if(t===u.d)return r._dismissDropdown(),void e.preventDefault();if(t!==u.f)return t===u.c&&r._hasFocusedItem()?(r._selectFocusedItem(),void e.preventDefault()):void(n||r.setState({showTypeaheadDropdown:!0}));r._dismissDropdown()}})),c()(a()(r),"_handleItemFocusChanged",(function(){r.setState({ariaDescendantId:Object(A.b)()})})),c()(a()(r),"_handleInputClear",(function(){r.setQuery("")})),c()(a()(r),"_handleInputFocus",(function(){r.setState({showTypeaheadDropdown:!0}),r._updatePosition(),r.props.onFocus&&r.props.onFocus()})),c()(a()(r),"_handleInputChange",(function(e){r.setQuery(e.target.value),r._updatePosition()})),c()(a()(r),"_handleFormSubmit",(function(e){e.preventDefault(),e.stopPropagation(),r._inputRef&&r._inputRef.blur(),r.setState({showTypeaheadDropdown:!1}),r.props.onDismiss&&r.props.onDismiss(),r.props.onSubmit&&r.props.onSubmit()})),c()(a()(r),"_handleItemClick",(function(e,t){var n=r.props,a=n.shouldClearOnSelect,o=n.shouldFocusOnClear,i=n.onDismiss,s=n.onItemClick,c=a?"":r.state.query;r.setState({showTypeaheadDropdown:!1}),r._inputRef&&(a&&o?r._inputRef.focus():r._inputRef.blur()),r.setQuery(c),i&&i(),s&&s(e,t)})),c()(a()(r),"_hasFocusedItem",(function(){var e=r._emptyStateRef||r._typeaheadRef;return e&&e.hasFocusedItem()})),c()(a()(r),"_selectFocusedItem",(function(){var e=r._emptyStateRef||r._typeaheadRef;e&&e.selectFocusedItem()})),c()(a()(r),"_focusNext",(function(){var e=r._emptyStateRef||r._typeaheadRef;e&&e.focusNext()})),c()(a()(r),"_focusPrevious",(function(){var e=r._emptyStateRef||r._typeaheadRef;e&&e.focusPrevious()})),r.state={ariaDescendantId:Object(A.b)(),query:t.initialValue,showTypeaheadDropdown:!1},r._dropdownDomId="typeaheadDropdown-"+N,N+=1,r}i()(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){this.props.initialValue!==e.initialValue&&this.setQuery(e.initialValue)},n.componentDidMount=function(){window.document.addEventListener("click",this._handleFocusChange,!0)},n.componentWillUnmount=function(){window.document.removeEventListener("click",this._handleFocusChange,!0)},n.render=function(){return l.createElement(T.a,null,this._render)},n.focus=function(){this._inputRef&&this._inputRef.focus()},n.setQuery=function(e){this.setState({query:e}),this.props.onQueryChange&&this.props.onQueryChange(e)},t}(l.Component);c()(L,"defaultProps",{disableClearButton:!1,filter:[k.a.Users,k.a.Topics],initialValue:"",withSectionDivider:!0});var U=g.a.create((function(e){return{root:{flex:1,flexDirection:"column",position:"relative",zIndex:y.d+1},typeaheadContainer:{flex:1,position:"relative"},keydownInputListener:{flex:1},dropdown:{backgroundColor:e.colors.cellBackground,left:0,right:0,overflowY:"auto",overscrollBehavior:"contain",position:"absolute",top:0,WebkitOverflowScrolling:"touch"},modalDropdown:{backgroundColor:e.colors.cellBackground,flex:1,minHeight:300,position:"relative",overflowY:"auto",overscrollBehavior:"auto",WebkitOverflowScrolling:"touch"},wideModeDropdown:{borderRadius:e.borderRadii.medium,boxShadow:e.boxShadows.medium,minHeight:100,maxHeight:"calc(80vh - "+e.componentDimensions.appBarHeight+")"},wrapper:{alignItems:"stretch",flex:1}}}));t.default=L},"6OUF":function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));n("2G9S"),n("IAdD"),n("Blm6"),n("uFXj");var r=n("97Jx"),a=n.n(r),o=n("LdEA"),i=n.n(o),s=n("1Pcy"),c=n.n(s),u=n("W/Kd"),l=n.n(u),d=n("KEM+"),p=n.n(d),h=(n("aWzz"),n("ERkP")),f=n("t62R"),m=n("/yvb"),y=n("ZL4l"),_=n.n(y),v=n("oQhu"),S=n("rHpw"),b=n("ioan"),g=n("aITJ"),I=n("3xO4"),E=n.n(I),x=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,p()(c()(t),"_blurOnBackspaceKeyUpForKaiOS",!1),p()(c()(t),"state",{isFocused:!1}),p()(c()(t),"getContainerStyle",(function(){var e=t.props,n=e.styleType,r=e.multiline,a=e.invalid,o=t.state.isFocused;return"pill"===n?[!a&&!o&&R.transparent,!o&&A.fadedGrayColor,!r&&w.infinite,A.root,a&&R.invalid,!a&&o&&R.focused,o&&A.transparentColor,r&&w.round]:[R.none,A.root,A.fadedGrayColor]})),p()(c()(t),"_getTextInputStyle",Object(v.a)((function(e){return[C.root,e]}))),p()(c()(t),"_handleBlur",(function(e){var n=t.props.onBlur;t.setState({isFocused:!1}),n&&n(e)})),p()(c()(t),"_handleClear",(function(e){t.props.focusOnClear&&t.focus(),t._textInput&&t._textInput.clear()})),p()(c()(t),"_handleChange",(function(e){var n=t.props.onChange;t.state.isFocused||t.setState({isFocused:!0}),n&&n(e)})),p()(c()(t),"_handleFocus",(function(e){var n=t.props.onFocus;t.setState({isFocused:!0}),n&&n(e)})),p()(c()(t),"_handleKeyPress",(function(e){var n=t.props,r=n.multiline,a=n.onKeyPress,o=n.onSubmitEditing;a&&a(e),e.isDefaultPrevented()||"Enter"!==e.key||e.shiftKey||r||!o||(e.preventDefault(),o(e))})),p()(c()(t),"_handleKeyDown",(function(e){var n=t.props.onKeyDown,r=0===t.getValue().length;g.a.isKaiOS()&&"Backspace"===e.key&&r?t._blurOnBackspaceKeyUpForKaiOS=r:n&&n(e)})),p()(c()(t),"_handleKeyUp",(function(e){var n=t.props.onKeyUp;g.a.isKaiOS()&&"Backspace"===e.key&&t._blurOnBackspaceKeyUpForKaiOS&&(e.preventDefault(),t.blur()),n&&n(e)})),p()(c()(t),"_setTextInputRef",(function(e){t._textInput=e})),p()(c()(t),"_setRichTextInputRef",(function(e){t._richTextInput=e})),t}l()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.appTextSize,n=e.emojiPickerButton,r=e.onLayout,a=e.contentAbove,o=e.contentBelow,i=e.editable,s=e.style,c=e.richTextInputContext,u=e.withClearButton;return h.createElement(E.a,{onBlur:this._handleBlur,onFocus:this._handleFocus,onLayout:r,style:[this.getContainerStyle(),!i&&A.disabled,s]},a,h.createElement(E.a,{style:A.textInput},this._renderIcon(),h.createElement(f.c,{size:t,style:A.appText},c?this._renderRichTextInput():this._renderTextInput()),h.createElement(E.a,{style:[T.root,n&&T.withEmojiPicker]},this._renderCloseButton(),this._renderEmojiPicker(),u&&this._renderClearButton())),o)},n._renderIcon=function(){var e=this.props,t=e.Icon,n=e.iconStyle,r=this.state.isFocused,a=[O.root,r&&O.focused,n];return t?h.createElement(E.a,{style:T.leftIcon},h.createElement(t,{style:a})):null},n._renderTextInput=function(){var e=this.props,t=(e.Icon,e.appTextSize,e.focusOnClear,e.handleReturn,e.iconStyle,e.inputStyle),n=(e.invalid,e.keyCommandHandlers,e.onLayout,e.onSubmitEditing,e.closeButton,e.contentAbove,e.contentBelow,e.emojiPickerButton,e.richTextInputContext,e.style,e.styleType,e.withClearButton,i()(e,["Icon","appTextSize","focusOnClear","handleReturn","iconStyle","inputStyle","invalid","keyCommandHandlers","onLayout","onSubmitEditing","closeButton","contentAbove","contentBelow","emojiPickerButton","richTextInputContext","style","styleType","withClearButton"]));return h.createElement(h.Fragment,null,g.a.isEdge()?h.createElement("style",null,"input[type=text]::-ms-clear { display: none; }"):null,h.createElement(b.a,a()({},n,{onBlur:this._handleBlur,onChange:this._handleChange,onFocus:this._handleFocus,onKeyDown:this._handleKeyDown,onKeyPress:this._handleKeyPress,onKeyUp:this._handleKeyUp,placeholderTextColor:S.a.theme.colors.deepGray,ref:this._setTextInputRef,style:this._getTextInputStyle(t)})))},n._renderRichTextInput=function(){var e=this.props,t=e.ariaAutocomplete,n=e.ariaControls,r=e.ariaActiveDescendant,a=e.autoFocus,o=e.ariaLabel,i=e.inputStyle,s=e.keyCommandHandlers,c=e.numberOfLines,u=e.maxNumberOfLines,l=e.multiline,d=e.onFilesAdded,p=e.placeholder,f=e.positionCursorAtEnd,m=e.richTextInputContext,y=e.handleReturn,_=e.testID,v=m||{},S=v.dismissComposerCommandName,b=v.editorState,g=v.element,I=v.sendTweetCommandName,x=[C.root,C.rich];return g&&b?h.createElement(E.a,{style:[C.richContainer,i]},h.createElement(g,{ariaActiveDescendant:r,ariaAutocomplete:t,ariaControls:n,ariaLabel:o,autoFocus:a,dismissComposerCommandName:S,editorState:b,handleReturn:y,keyCommandHandlers:s,maxNumberOfLines:u,multiline:l,numberOfLines:c,onBlur:this._handleBlur,onChange:this._handleChange,onFilesAdded:d,onFocus:this._handleFocus,onKeyDown:this._handleKeyDown,onKeyPress:this._handleKeyPress,onKeyUp:this._handleKeyUp,placeholder:p,positionCursorAtEnd:f,ref:this._setRichTextInputRef,sendTweetCommandName:I,style:x,testID:_})):null},n._renderClearButton=function(){var e=h.createElement(m.a,{accessible:!1,icon:h.createElement(_.a,{style:D.icon}),onPress:this._handleClear,size:"smallCompact",style:D.root,type:"primary"});return this.getValue()?e:h.createElement(E.a,null)},n._renderEmojiPicker=function(){var e=this.props.emojiPickerButton;return e?h.createElement(E.a,null,e):null},n._renderCloseButton=function(){var e=this.props.closeButton;return e?h.createElement(E.a,{style:T.closeButton},e):null},n.applyFinalValue=function(e){var t=this;this.focus(),window.requestAnimationFrame((function(){t.blur(),e(t.getValue())}))},n.blur=function(){this._richTextInput&&this._richTextInput.blur(),this._textInput&&this._textInput.blur()},n.focus=function(){this._richTextInput&&this._richTextInput.focus(),this._textInput&&this._textInput.focus()},n.getValue=function(){var e=this.props,t=e.richTextInputContext,n=e.value;return t?this._richTextInput&&this._richTextInput.value()||n||"":this._textInput&&this._textInput.getValue()||n||""},n.getTextInputHeight=function(){var e=this.props.richTextInputContext,t=2*parseInt(S.a.theme.spaces.xSmall,10),n=2*parseInt(S.a.theme.borderWidths.small,10);return e?this._richTextInput&&this._richTextInput.getOffsetHeight()+t+n:this._textInput&&this._textInput.getOffsetHeight()+n},t}(h.Component);p()(x,"defaultProps",{appTextSize:"normal",autoComplete:"on",styleType:"pill",autoCorrect:!0,editable:!0,focusOnClear:!0,withClearButton:!1}),x.propTypes={};var w=S.a.create((function(e){return{infinite:{borderRadius:e.borderRadii.infinite},round:{borderRadius:"calc("+e.borderRadii.large+" + "+e.borderWidths.small+" * 2)"},none:{borderRadius:0}}})),R=S.a.create((function(e){return{transparent:{borderColor:e.colors.transparent,borderStyle:"solid",borderWidth:e.borderWidths.small},focused:{borderColor:e.colors.primary,borderStyle:"solid",borderWidth:e.borderWidths.small},invalid:{borderColor:e.colors.red,borderStyle:"solid",borderWidth:e.borderWidths.small},none:{borderWidth:0}}})),C=S.a.create((function(e){return{root:{backgroundColor:"transparent",borderRadius:0,borderWidth:0,boxSizing:"border-box",color:"inherit",outlineStyle:"none",fontFamily:"inherit",fontSize:"inherit",padding:e.spaces.xSmall,textAlign:"inherit"},richContainer:{width:"100%",padding:e.spaces.xSmall},rich:{padding:0}}})),O=S.a.create((function(e){return{root:{color:e.colors.deepGray,minWidth:e.spaces.large,paddingLeft:e.spaces.xSmall},focused:{color:e.colors.primary}}})),D=S.a.create((function(e){return{root:{borderWidth:0,marginRight:e.spaces.xSmall},icon:{width:"10px",height:"10px",color:e.colors.cellBackground}}})),T=S.a.create((function(e){return{root:{display:"flex",justifyContent:"center"},withEmojiPicker:{display:"flex",justifyContent:"flex-end",flexDirection:"column"},closeButton:{flexGrow:1},leftIcon:{display:"flex",justifyContent:"center"}}})),A=S.a.create((function(e){return{root:{flexDirection:"column",flexGrow:1,flexShrink:1,justifyContent:"center"},disabled:{cursor:"default",opacity:.8},fadedGrayColor:{backgroundColor:e.colors.fadedGray},transparentColor:{backgroundColor:"transparent"},textInput:{flexDirection:"row"},appText:{display:"flex",flexGrow:1}}}))},"72nz":function(e,t,n){"use strict";n.r(t),n.d(t,"SearchBoxContainer",(function(){return je}));n("IAdD"),n("KqXw"),n("WNMA"),n("MvUL"),n("hBvt");var r=n("97Jx"),a=n.n(r),o=n("1Pcy"),i=n.n(o),s=n("W/Kd"),c=n.n(s),u=n("KEM+"),l=n.n(u),d=n("ERkP"),p=n("wtjx"),h=n("rxPX"),f=Object(h.a)().propsFromActions((function(){return{addQuery:p.a}})).withAnalytics({component:"search_box"}),m=n("3XMw"),y=n.n(m),_=n("8jkQ"),v=n("u3ZE"),S=n("rRIm"),b=(n("LW0h"),n("hBpG"),n("vrRf"),n("z84I"),n("M+/F"),n("lnti")),g=n("0KEI"),I=n("hqKg"),E=n("kGix"),x=n("3IPs"),w=n("G6rE"),R=n("k49u"),C=n("J4ZH"),O=n("v4XE"),D=function(e){return Object(R.c)(e,R.a.GenericUserNotFound)||Object(R.c)(e,R.a.OtherUserSuspended)||Object(R.c)(e,R.a.AddressBookLookupNotFound)},T=Object(h.a)().propsFromState((function(){var e=Object(I.createSelector)(p.g,w.e.selectFetchStatuses,(function(e,t){var n=Object(b.a)(e.map((function(e){return e.user&&e.user.id})));return Object(C.a)(n.map((function(e){return{id:e,fetchStatus:t[e]}})),(function(e){return e.fetchStatus}))})),t=Object(I.createSelector)(e,(function(e){return(e[E.a.FAILED]||[]).map((function(e){return e.id}))})),n=Object(I.createSelector)(e,w.e.selectErrors,(function(e,t){return(e[E.a.FAILED]||[]).filter((function(e){var n=e.id;return D(t[n]||{})})).map((function(e){return e.id}))})),r=Object(I.createSelector)(e,w.e.selectErrors,(function(e,t){var n=(e[E.a.FAILED]||[]).filter((function(e){var n=e.id;return!D(t[n]||{})}));return(e[E.a.LOADING]||[]).length>0?E.a.LOADING:(e[E.a.LOADED]||[]).length>0?E.a.LOADED:n.length>0?E.a.FAILED:E.a.NONE})),a=Object(I.createSelector)(p.g,(function(e){return e.map((function(e){return Object.assign({},e,{category:x.b.RecentSearch})}))})),o=Object(I.createSelector)(O.d,(function(e){return e.map((function(e){return{keyword:{query:e.query},savedSearchId:e.id_str,category:x.b.SavedSearch}}))}));return{isRecentSearchDataLoaded:p.e,recentSearches:a,usersFetchStatus:r,invalidRecentSearchUserIds:n,failedRecentSearchUserIds:t,savedSearches:o}})).adjustStateProps((function(e){var t=e.isRecentSearchDataLoaded,n=e.recentSearches,r=e.usersFetchStatus,a=e.invalidRecentSearchUserIds,o=e.failedRecentSearchUserIds,i=e.savedSearches,s=!n.filter((function(e){var t=e.user;return t&&a.indexOf(t.id)<0})).length,c=r!==E.a.LOADING&&t&&s?E.a.LOADED:r;return{failedRecentSearchUserIds:o,invalidRecentSearchUserIds:a,recentSearches:n,fetchStatus:c,savedSearches:i}})).propsFromActions((function(){return{clearAll:p.b,createLocalApiErrorHandler:Object(g.d)("SEARCH_ONE_CLICK"),deleteSavedSearch:O.a,fetchRecentSearchesIfNeeded:p.c,fetchSavedSearchesIfNeeded:O.b,fetchUsersIfNeeded:w.e.fetchManyIfNeeded,removeQuery:p.d}})).withAnalytics({element:"typeahead"}),A=n("sYRn"),k=n("v//M"),F=n("7nmT"),j=n.n(F),P=n("Rp9C"),N=(n("2G9S"),n("Y9Ll")),L=n.n(N),U=(n("ho0z"),function(e,t){return w.e.select(e,t.id)}),M=Object(h.a)().propsFromState((function(){return{user:U}})),B=n("l2F/"),q=n.n(B),K=n("/yvb"),W=n("IMA+"),H=n("rHpw"),z=d.createElement(q.a,null),G=y.a.e68b09b4,V=M(function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var n=t.prototype;return n.UNSAFE_componentWillMount=function(){var e=this.props.onRef;e&&e(this)},n.componentWillUnmount=function(){var e=this.props.onRef;e&&e(void 0)},n.componentDidUpdate=function(e){var t=this.props.onRef;e.onRef&&e.onRef!==t&&e.onRef(void 0),t&&t!==e.onRef&&t(this)},n.render=function(){var e=this.props,t=e.user,n=e.onRemove;if(!t)return null;var r=d.createElement(K.a,{accessibilityLabel:G,icon:z,onPress:n,size:"small",type:"text"});return d.createElement(W.a,{avatarSize:"xLarge",avatarUri:t.profile_image_url_https,decoration:r,displayMode:"UserCompact",isProtected:t.protected,isVerified:t.verified,name:t.name,screenName:t.screen_name,style:Q.cell,userId:t.id_str,withLink:!1})},L()(t,[{key:"searchItemData",get:function(){return this.props.user?{category:x.b.RecentSearch,link:this.props.user.screen_name,query:this.props.id,recentSearchType:x.a.User}:null}}]),t}(d.Component)),Q=H.a.create((function(e){return{cell:{paddingHorizontal:0,paddingVertical:0}}})),X=n("Gzkc"),Y=n.n(X),J=n("K2+g"),Z=n.n(J),$=n("I7xG"),ee=n("j7Bv"),te=n("5mJL"),ne=n("t62R"),re=d.createElement(q.a,null),ae=d.createElement(Z.a,null),oe=y.a.e68b09b4,ie=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,l()(i()(t),"_getButtonType",Object($.a)(i()(t),(function(e){return e.category}),(function(e){return e===x.b.SavedSearch?"destructiveText":"text"}))),l()(i()(t),"_getRemoveIcon",Object($.a)(i()(t),(function(e){return e.category}),(function(e){return e===x.b.SavedSearch?ae:re}))),t}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.query,n=e.onRemove,r=d.createElement(ee.a,{Icon:Y.a,color:"neutral",size:"xLarge",style:se.searchIcon});return d.createElement(te.a,{avatarCell:r,avatarSize:"xLarge",cellStyle:se.bodyColumn},d.createElement(ne.c,{numberOfLines:1,withHashflags:!0},t),d.createElement(K.a,{accessibilityLabel:oe,icon:this._getRemoveIcon(),onPress:n,size:"small",type:this._getButtonType()}))},L()(t,[{key:"searchItemData",get:function(){var e=this.props,t=e.category;return{category:t,query:e.query,recentSearchType:t===x.b.RecentSearch?x.a.Keyword:void 0}}}]),t}(d.Component),se=H.a.create((function(e){return{bodyColumn:{alignItems:"center",flexDirection:"row",justifyContent:"space-between"},searchIcon:{marginRight:e.spaces.xSmall}}})),ce=ie,ue=n("htQn"),le=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,l()(i()(t),"_renderSearchItem",(function(){var e=t.props.item;return e.keyword?d.createElement(ce,{category:e.category,onRemove:t._handleOnRemove,query:e.keyword.query,ref:t._handleItemRef}):e.user?d.createElement(V,{id:e.user.id||"",onRef:t._handleItemRef,onRemove:t._handleOnRemove}):null})),l()(i()(t),"_handleItemRef",(function(e){t._itemRef=e})),l()(i()(t),"_handleOnRemove",(function(e){var n=t.props;(0,n.onRemoveQuery)(n.item,n.index),e.stopPropagation()})),l()(i()(t),"_handleOnClick",(function(){var e=t.props,n=e.onItemClick,r=e.index;t.searchItemData&&n(t.searchItemData,r)})),t}return c()(t,e),t.prototype.render=function(){var e=this.props.domId;return d.createElement(ue.a,{accessibilityRole:"option",accessible:!0,"aria-selected":!!e,nativeID:e,onClick:this._handleOnClick,style:[de.root,e&&de.focused]},this._renderSearchItem())},L()(t,[{key:"searchItemData",get:function(){return this._itemRef&&this._itemRef.searchItemData}}]),t}(d.Component),de=H.a.create((function(e){return{root:{borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:1,cursor:"pointer",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},focused:{backgroundColor:e.colors.faintGray}}})),pe=le,he=n("3xO4"),fe=n.n(he),me=n("eb3s"),ye=n("MXDK"),_e=y.a.ee295fbe,ve={headline:y.a.f45c425f,text:y.a.caae4dd9,confirmButtonLabel:y.a.dbd5d40f},Se=y.a.a8d68f61,be=y.a.c6530778,ge=y.a.e047b8fa,Ie=function(e){function t(t){var n;return n=e.call(this,t)||this,l()(i()(n),"_getRecentSearchItems",(function(){var e=n.props,t=e.failedRecentSearchUserIds,r=e.recentSearches.filter((function(e){var n=e.user;return!n||t.indexOf(n.id)<0}));return r.length>15?r.slice(0,15):r})),l()(i()(n),"_render",(function(){var e=n.props,t=e.domId,r=e.savedSearches,a=n._getRecentSearchItems();return 0===a.length&&0===r.length?d.createElement(fe.a,{style:[Ee.emptyState]},d.createElement(ne.c,{align:"center",color:"deepGray"},_e)):d.createElement(fe.a,null,a.length>0?d.createElement(d.Fragment,null,d.createElement(fe.a,{style:Ee.header},d.createElement(ne.c,{numberOfLines:1,size:"large",weight:"bold"},Se),d.createElement(K.a,{onPress:n._handleClearAllClick,size:"small",type:"text"},ge)),d.createElement(fe.a,{accessibilityRole:"listbox",nativeID:t},a.map((function(e,t){return n._renderRecentSearchItem(e,t)})))):null,r.length>0?d.createElement(d.Fragment,null,d.createElement(fe.a,{style:Ee.header},d.createElement(ne.c,{numberOfLines:1,size:"large",weight:"bold"},be)),d.createElement(fe.a,null,n._renderSavedSearches())):null)})),l()(i()(n),"_renderSavedSearches",(function(){var e=n.props,t=e.ariaDescendantId,r=e.savedSearches,a=n.state.focusIndex,o=n._getRecentSearchItems();return d.createElement(fe.a,null,r.map((function(e,r){var i=a===r+o.length;return d.createElement(pe,{domId:i?t:void 0,index:r,item:e,key:e.savedSearchId,onItemClick:n._handleOnItemClick,onRemoveQuery:n._handleRemoveQuery,ref:i?n._setFocusedItemRef:void 0})})))})),l()(i()(n),"_handleUsersRetry",(function(){n._fetchUsersIfNeeded()})),l()(i()(n),"_handleClearAllClick",(function(){n.setState({shouldShowClearAllConfirmationSheet:!0})})),l()(i()(n),"_handleRemoveQuery",(function(e,t){var r=n.props,a=r.analytics,o=r.removeQuery;switch(e.category){case x.b.RecentSearch:var i={keyword:e.keyword,user:e.user};o(i),n._resetFocus();var s=P.a.forRecentSearchResult(i,t),c=e.user?"clear_user":"clear_topic";s&&a.scribe({action:c,data:{items:[s]}});break;case x.b.SavedSearch:n.setState({shouldShowDeleteSavedSearchConfirmation:!0,savedSearchIdToDelete:e.savedSearchId});break;default:return}})),l()(i()(n),"_handleOnClearAllConfirm",(function(){var e=n.props,t=e.analytics;(0,e.clearAll)(),t.scribeAction("clear_all"),n.setState({shouldShowClearAllConfirmationSheet:!1})})),l()(i()(n),"_handleOnClearAllCancel",(function(){n.setState({shouldShowClearAllConfirmationSheet:!1})})),l()(i()(n),"_handleOnDeleteSavedSearchConfirm",(function(){var e=n.props,t=e.analytics,r=e.deleteSavedSearch,a=e.savedSearches,o=n.state.savedSearchIdToDelete,i=a.find((function(e){return e.savedSearchId===o}));if(o){r(o);var s=i&&P.a.forSavedSearchResult(i.keyword.query);s&&t.scribe({element:"saved_search",action:"delete",data:{items:[s]}})}n.setState({shouldShowDeleteSavedSearchConfirmation:!1,savedSearchIdToDelete:void 0})})),l()(i()(n),"_handleOnDeleteSavedSearchCancel",(function(){n.setState({shouldShowDeleteSavedSearchConfirmation:!1,savedSearchIdToDelete:void 0})})),l()(i()(n),"_renderRecentSearchItem",(function(e,t){var r=n.props.ariaDescendantId,a=n.state.focusIndex===t,o=e.keyword?"keyword_"+e.keyword.query:e.user?"user_"+e.user.id:""+t;return d.createElement(pe,{domId:a?r:void 0,index:t,item:e,key:o,onItemClick:n._handleOnItemClick,onRemoveQuery:n._handleRemoveQuery,ref:a?n._setFocusedItemRef:void 0})})),l()(i()(n),"_handleOnItemClick",(function(e,t){var r=n.props,a=r.onDismiss;(0,r.onItemClick)(e,t),n._scribeClick(e,t),a&&a()})),l()(i()(n),"_setFocusedItemRef",(function(e){n._focusedItemRef=e,e&&n._shouldScrollToFocusedItem&&(Object(ye.c)(n._getScrollParent(),n._getFocusedItem()),n._shouldScrollToFocusedItem=!1)})),l()(i()(n),"hasFocusedItem",(function(){return n._getRecentSearchItems().length>0})),l()(i()(n),"selectFocusedItem",(function(){if(n.hasFocusedItem()){var e=n._focusedItemRef&&n._focusedItemRef.searchItemData;e&&n._handleOnItemClick(e,n.state.focusIndex)}})),l()(i()(n),"_scribeRecentSearchImpression",(function(){var e=n.props,t=e.analytics,r=e.recentSearches;if(r&&r.length){var a=Object(b.a)(r.map((function(e,t){return P.a.forRecentSearchResult(e,t)})));t.scribe({action:"impression",data:{items:a}})}})),l()(i()(n),"_scribeSavedSearchImpression",(function(){var e=n.props,t=e.analytics,r=e.savedSearches;if(r&&r.length){var a=Object(b.a)(r.map((function(e,t){return P.a.forSavedSearchResult(e.keyword.query)})));t.scribe({element:"saved_search",action:"impression",data:{items:a}})}})),l()(i()(n),"_scribeClick",(function(e,t){var r=n.props.analytics;switch(e.category){case x.b.SavedSearch:var a=P.a.forSavedSearchResult(e.query);r.scribe({element:"saved_search",action:"search",data:{targets:[a]}});break;case x.b.RecentSearch:var o;e.recentSearchType&&(o=e.recentSearchType===x.a.User?{user:{type:x.a.User,id:e.query}}:{keyword:{type:x.a.Keyword,query:e.query}});var i=o&&P.a.forRecentSearchResult(o,t);i&&r.scribe({action:"click",data:{targets:[i]}})}})),l()(i()(n),"_setFocusIndex",(function(e,t){var r=n.props.onItemFocusChanged;n._shouldScrollToFocusedItem=t,n.setState({focusIndex:e}),r&&r()})),l()(i()(n),"_resetFocus",(function(){n._setFocusIndex(-1)})),l()(i()(n),"focusNext",(function(){var e=n.state.focusIndex,t=n.props,r=t.recentSearches,a=t.savedSearches,o=r.length+a.length;if(0!==o){var i=e+1>=o?0:e+1;n._setFocusIndex(i,!0)}})),l()(i()(n),"focusPrevious",(function(){var e=n.state.focusIndex,t=n.props,r=t.recentSearches,a=t.savedSearches,o=r.length+a.length;if(0!==o){var i=e-1<0?o-1:e-1;n._setFocusIndex(i,!0)}})),l()(i()(n),"_fetchUsersIfNeeded",(function(){var e=n.props,t=e.fetchUsersIfNeeded,r=e.createLocalApiErrorHandler,a=e.recentSearches,o=e.invalidRecentSearchUserIds;t(a.map((function(e){return e.user})).filter(Boolean).map((function(e){return e.id})).filter((function(e){return o.indexOf(e)<0}))).catch(r({}))})),n.state={focusIndex:0,shouldShowClearAllConfirmationSheet:!1,shouldShowDeleteSavedSearchConfirmation:!1},n}c()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.createLocalApiErrorHandler,n=e.fetchRecentSearchesIfNeeded,r=e.fetchSavedSearchesIfNeeded,a=e.recentSearches,o=e.savedSearches,i=e.onRef;i&&i(this),n(),this._fetchUsersIfNeeded(),r().catch(t({})),this._scribeRecentSearchImpression(),this._scribeSavedSearchImpression(),(a&&a.length||o&&o.length)&&this._resetFocus()},n.componentDidUpdate=function(e){var t=this.props,n=t.recentSearches,r=t.savedSearches,a=t.onRef;e.recentSearches!==n&&(this._fetchUsersIfNeeded(),this._resetFocus(),this._scribeRecentSearchImpression()),e.savedSearches!==r&&(this._resetFocus(),this._scribeSavedSearchImpression()),e.onRef&&e.onRef!==a&&e.onRef(void 0),a&&a!==e.onRef&&a(this)},n.componentWillUnmount=function(){this.props.onRef&&this.props.onRef(void 0)},n.render=function(){var e=this.props,t=e.style,n=e.fetchStatus,r=this.state,a=r.shouldShowClearAllConfirmationSheet,o=r.shouldShowDeleteSavedSearchConfirmation;return d.createElement(fe.a,{style:t},d.createElement(k.a,{fetchStatus:n,onRequestRetry:this._handleUsersRetry,render:this._render}),a?d.createElement(me.a,{confirmButtonLabel:ve.confirmButtonLabel,confirmButtonType:"destructive",headline:ve.headline,onCancel:this._handleOnClearAllCancel,onConfirm:this._handleOnClearAllConfirm,text:ve.text}):null,o?d.createElement(A.a,{onCancel:this._handleOnDeleteSavedSearchCancel,onConfirm:this._handleOnDeleteSavedSearchConfirm}):null)},n._getScrollParent=function(){if(!this._scrollParent){var e=Object(ye.a)(j.a.findDOMNode(this));this._scrollParent=e===window?null:e}return this._scrollParent},n._getFocusedItem=function(){var e=this._focusedItemRef&&j.a.findDOMNode(this._focusedItemRef);return e instanceof Element?e:null},t}(d.Component),Ee=H.a.create((function(e){return{emptyState:{padding:e.spaces.xSmall,paddingTop:e.spaces.medium},header:{alignItems:"center",borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:1,flexDirection:"row",justifyContent:"space-between",paddingVertical:e.componentDimensions.gutterVertical,paddingHorizontal:e.componentDimensions.gutterHorizontal}}})),xe=T(Ie),we="SearchBox_Search_Input",Re=n("4e/K"),Ce=n("TnY3"),Oe=n("GZwR"),De=y.a.ib2e46ee,Te=y.a.hbc99b02,Ae=/^(\w+)$/,ke=[Oe.a.Events,Oe.a.Users,Oe.a.Topics],Fe=function(e){return"@"===e[0]?e.substring(1):e},je=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,l()(i()(r),"_renderSearchBoxEmptyState",(function(e){return d.createElement(xe,a()({},e,{onItemClick:r._handleSearchItemClick}))})),l()(i()(r),"_handleSearchItemClick",(function(e){var t=e.link,n=e.query,a=e.recentSearchType,o=e.category,i=r.props.addQuery;o===x.b.SavedSearch?r._submitQuery({query:n,shouldAddToRecentSearch:!1,src:v.a.SavedSearchClick}):a===x.a.Keyword?r._submitQuery({query:n,shouldAddToRecentSearch:!0,src:v.a.RecentSearchClick}):t&&(r._routeTransition({pathname:"/"+t}),i({user:{id:n,type:x.a.User}}))})),l()(i()(r),"_handleSearchShortcut",(function(e){var t=r._inputRef;t&&(e&&t.setQuery(e),t.focus())})),l()(i()(r),"_getUserExactMatch",(function(e){var t=e.query,n=(e.hasResults,e.isLoaded,Fe(t));if(n.match(Ae))return{id:t+"_no_result_user",type:Oe.b.NoResult,data:{text:Te({screenName:n}),type:"user"}}})),l()(i()(r),"_handleOnDismiss",(function(){var e=r.props.history,t=e.location,n=t.state||{};if(n.searchFocused){var a=Object.assign({},t,{state:Object.assign({},n,{lockScroll:!1,searchFocused:!1})});e.replace(a)}})),l()(i()(r),"_handleOnFocus",(function(){var e=r.props,t=e.analytics,n=e.history,a=n.location,o=a.state||{};if(!o.searchFocused){var i=Object.assign({},a,{state:Object.assign({},o,{searchFocused:!0,lockScroll:!0})});t.scribe({action:"focus_field"}),n.push(i)}})),l()(i()(r),"_handleChange",(function(e){r.setState({query:e,querySubmitted:!1})})),l()(i()(r),"_handleTypeaheadSubmit",(function(e){var t=r.state.query;/^\s*$/.test(t)||r._submitQuery({query:t,shouldAddToRecentSearch:!0})})),l()(i()(r),"_handleItemClick",(function(e,t){var n=r.props.addQuery,a=r.state.query;switch(e.type){case Oe.b.User:if(e.data.id_str)n({user:{id:e.data.id_str,type:x.a.User}});r._routeTransition({pathname:"/"+e.data.screen_name});break;case Oe.b.Topic:case Oe.b.Hashtag:r._submitQuery({query:e.data.topic,shouldAddToRecentSearch:!0,src:v.a.TypeaheadClick});break;case Oe.b.Event:e.data&&e.data.url?r._routeTransition({pathname:_.b.parseInternalUrl(e.data.url)}):r._submitQuery({query:e.data.topic,src:v.a.TypeaheadClick});break;case Oe.b.NoResult:var o=e.data.type;"user"===o?r._routeTransition({pathname:"/"+Fe(a)}):"topic"===o&&r._submitQuery({query:a,shouldAddToRecentSearch:!0,src:v.a.TypeaheadClick})}})),l()(i()(r),"_routeTransition",(function(e){var t=e.pathname,n=e.query,a=e.params,o=e.src,i=r.props,s=i.history,c=i.location,u=Object.assign({},c,{pathname:t,search:"",query:a||(n?{q:n,src:o}:{}),state:Object.assign({},c.state,{searchFocused:!1,lockScroll:!1})});s.replace(u)})),l()(i()(r),"_submitQuery",(function(e){var t=e.query,n=e.shouldAddToRecentSearch,a=void 0!==n&&n,o=e.src,i=void 0===o?v.a.Typed:o,s=r.props,c=s.addQuery,u=s.mode,l=s.onSubmit,d=s.searchFilters,p=s.searchRoute;(l&&l(t,i),a)&&c({keyword:{query:t,type:x.a.Keyword}});var h=Object(x.g)({query:t,querySrc:i,mode:u,searchFilters:d});r._routeTransition({pathname:p,params:h,src:i}),r.setState({querySubmitted:!0})})),l()(i()(r),"_setInputRef",(function(e){r._inputRef=e})),r.state={query:t.initialValue,querySubmitted:!0},r}c()(t,e);var n=t.prototype;return n.UNSAFE_componentWillMount=function(){var e=this.props,t=e.location,n=e.shouldHandleSearchShortcut,r=(t.state||{}).searchFocused;this._autoFocus=!!r,n&&(this._unregisterSearchShortcutHandler=Object(S.b)(this._handleSearchShortcut))},n.componentWillUnmount=function(){this._unregisterSearchShortcutHandler&&this._unregisterSearchShortcutHandler()},n.UNSAFE_componentWillReceiveProps=function(e){this.props.initialValue!==e.initialValue&&this.setState({query:e.initialValue,querySubmitted:!0})},n.render=function(){var e=this.props,t=e.location,n=e.placeholder,r=this.state.query,a=(t.state||{}).searchPrefill,o=this.props.initialValue||a;return d.createElement(fe.a,{style:Pe.root},d.createElement(Re.default,{filter:ke,getTopicExactMatch:r?Oe.e:void 0,getUserExactMatch:r?this._getUserExactMatch:void 0,initialValue:o,inputStyle:Pe.input,onDismiss:this._handleOnDismiss,onFocus:this._handleOnFocus,onItemClick:this._handleItemClick,onQueryChange:this._handleChange,onSubmit:this._handleTypeaheadSubmit,placeholder:n,ref:this._setInputRef,renderEmptyState:this._renderSearchBoxEmptyState,rounded:!0,shouldAutoFocus:this._autoFocus,shouldClearOnSelect:!0,shouldDeferPrefetch:!0,source:Oe.d.SearchBox,testID:we,withFixedPositioning:!0,withFocusStyling:!0}))},t}(d.Component);l()(je,"defaultProps",{initialValue:"",placeholder:De,searchRoute:"/search"});var Pe=H.a.create((function(e){return{root:{alignItems:"stretch",flexBasis:0,flexDirection:"row",flexGrow:1},input:{flexShrink:1}}}));t.default=Object(Ce.a)(f(je))},AQOc:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));n("LW0h"),n("lTEL"),n("z84I"),n("KOtZ"),n("IAdD"),n("7x/C"),n("kYxP");var r=n("LdEA"),a=n.n(r),o=n("lnti"),i=n("aWyx"),s={entries:{},entryIdsByConversationId:{},reactionsByMessageId:{}},c=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t={}),e.map((function(e){if(e.proof_type===i.d.MUTUAL_FRIENDS){var n=e.users,r=a()(e,["users"]);return Object.assign({},r,{users:Object(o.a)(n.map((function(e){return t[e]})))})}return e}))},u=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t={}),e.reduce((function(e,n){var r=n.user_id,a=t[r]||{id_str:r};return e[r]=Object.assign({},n,{user:a}),e}),{})},l=function(e,t){var n=t.entries;return(t.entryIdsByConversationId[e]||[]).map((function(e){return n[e]&&n[e].data})).filter(Boolean)},d=function(e,t,n){void 0===t&&(t=s);var r=e.conversation_id,o=e.participants,i=a()(e,["conversation_id","participants"]);return Object.assign({conversation_id:r},i,{entries:t.entryIdsByConversationId[r]||[],participants:u(o,n)})},p=function(e,t,n){var r=e.conversation_id,o=e.participants,i=e.social_proof,s=a()(e,["conversation_id","participants","social_proof"]);return Object.assign({conversation_id:r},s,{entries:l(r,t),participants:u(o,n)},i?{social_proof:c(i,n)}:{})}},"K2+g":function(e,t,n){"use strict";n("IAdD"),t.__esModule=!0,t.default=void 0;var r=i(n("7DT3")),a=i(n("ERkP")),o=i(n("OkZJ"));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return void 0===e&&(e={}),(0,r.default)("svg",Object.assign({},e,{style:[o.default.root,e.style],viewBox:"0 0 24 24"}),a.default.createElement("g",null,a.default.createElement("path",{d:"M20.746 5.236h-3.75V4.25c0-1.24-1.01-2.25-2.25-2.25h-5.5c-1.24 0-2.25 1.01-2.25 2.25v.986h-3.75c-.414 0-.75.336-.75.75s.336.75.75.75h.368l1.583 13.262c.216 1.193 1.31 2.027 2.658 2.027h8.282c1.35 0 2.442-.834 2.664-2.072l1.577-13.217h.368c.414 0 .75-.336.75-.75s-.335-.75-.75-.75zM8.496 4.25c0-.413.337-.75.75-.75h5.5c.413 0 .75.337.75.75v.986h-7V4.25zm8.822 15.48c-.1.55-.664.795-1.18.795H7.854c-.517 0-1.083-.246-1.175-.75L5.126 6.735h13.74L17.32 19.732z"}),a.default.createElement("path",{d:"M10 17.75c.414 0 .75-.336.75-.75v-7c0-.414-.336-.75-.75-.75s-.75.336-.75.75v7c0 .414.336.75.75.75zm4 0c.414 0 .75-.336.75-.75v-7c0-.414-.336-.75-.75-.75s-.75.336-.75.75v7c0 .414.336.75.75.75z"})))};s.metadata={height:24,width:24};var c=s;t.default=c},OEYw:function(e,t,n){"use strict";n("LW0h"),n("7xRU"),n("z84I");var r,a=n("97Jx"),o=n.n(a),i=n("LdEA"),s=n.n(i),c=n("1Pcy"),u=n.n(c),l=n("W/Kd"),d=n.n(l),p=n("KEM+"),h=n.n(p),f=n("ERkP"),m=(n("2G9S"),n("vrRf"),n("M+/F"),n("tQbP"),n("RhWx")),y=n.n(m),_=n("rxPX"),v=n("0KEI"),S=n("hqKg"),b=n("oEoC"),g=n("o52z"),I=n("kGix"),E=n("Qyxo"),x=n("lnti"),w=(n("Ee2X"),n("IAdD"),n("7x/C"),n("JtPf"),n("KqXw"),n("MvUL"),n("tVqn"),n("vy4g")),R=n("3A2y"),C=n("Ssj5"),O=n("oEOe"),D=n("GZwR"),T=[],A=Object(O.a)("rweb/typeaheadV2","FETCH"),k=function(e){return e.q+"_"+e.result_type+"_"+e.src},F={remoteResults:{},cachedIds:[]};var j=function(e){return e.map((function(e){var t=e.tokens,n=e.rounded_score,r=s()(e,["tokens","rounded_score"]),a=r.topic,o=r.topic_type||D.b.Topic;return{id:o+"_"+a.replace(" ","_"),type:o,tokens:t,rounded_score:n,data:r}}))},P=function(e){return e.map((function(e){var t=e.tokens,n=e.rounded_score,r=s()(e,["tokens","rounded_score"]),a=r.topic_type||D.b.Event;return{id:a+"_"+r.topic.replace(" ","_"),type:a,tokens:t,rounded_score:n,data:r}}))},N=function(e){return e.map((function(e){var t=e.tokens,n=e.rounded_score,r=s()(e,["tokens","rounded_score"]),a=r.topic_type||D.b.List;return{id:a+"_"+r.topic.replace(" ","_"),listId:r.object_id,type:a,tokens:t,rounded_score:n,data:r}}))},L=function(e,t){return e.typeaheadV2.remoteResults[t]},U=function(e){return function(t,n){var r=L(n(),k(e));return r&&r.timestamp&&Date.now()-r.timestamp<=3e5?Promise.resolve():t(M(e))}},M=function(e){return function(t,n,r){var a=r.api;if(!e||!e.q||""===e.q.trim())return Promise.resolve();var o={queryId:k(e)};return Object(O.b)(t,{params:e,request:a.Typeahead.fetch})({actionTypes:A,context:"FETCH_TYPEAHEAD",meta:o})}};C.a.register(((r={}).typeaheadV2=function(e,t){switch(void 0===e&&(e=F),t.type){case A.REQUEST:var n,r=t.meta.queryId;return Object.assign({},e,{remoteResults:Object.assign({},e.remoteResults,(n={},n[r]=Object.assign({},e.remoteResults[r],{fetchStatus:I.a.LOADING}),n))});case A.SUCCESS:var a,o=t.meta.queryId,i=t.payload,s=e.cachedIds.filter((function(e){return e!==o})),c=s.length>=25?Object(R.a)(e.remoteResults,s.splice(0,1)):e.remoteResults,u=i.users.map((function(e){return Object(w.a)(e,D.c.Remote)}));return Object.assign({},e,{cachedIds:[].concat(y()(s),[o]),remoteResults:Object.assign({},c,(a={},a[o]={fetchStatus:I.a.LOADED,id:o,orderedSections:i.ordered_sections,events:P(i.events),topics:j(i.topics),lists:N(i.lists),users:Object(D.f)(u),timestamp:Date.now()},a))});case A.FAILURE:var l,d=t.meta.queryId;return Object.assign({},e,{remoteResults:Object.assign({},e.remoteResults,(l={},l[d]=Object.assign({},e.remoteResults[d],{fetchStatus:I.a.FAILED}),l))});default:return e}},r));var B=n("UQTn"),q=[D.a.Users],K=function(e){var t=e.filter,n=e.query,r=e.source;return k({q:n,result_type:(t||q).join(","),src:r})},W=function(e,t){return function(e,t){var n=L(e,t);return n&&n.fetchStatus}(e,K(t))},H=function(e,t){return function(e,t){var n=L(e,t);return n&&n.users||T}(e,K(t))},z=function(e,t){return function(e,t){var n=L(e,t);return n&&n.topics||T}(e,K(t))},G=function(e,t){return function(e,t){var n=L(e,t);return n&&n.events||T}(e,K(t))},V=function(e,t){return function(e,t){var n=L(e,t);return n&&n.lists||T}(e,K(t))},Q=function(e,t){return(t.rounded_graph_weight||0)-(e.rounded_graph_weight||0)},X=function(){return Object(S.createSelector)(H,Object(S.createSelector)((function(e,t){return t.query}),(function(e,t){return t.filter}),B.d,B.e,(function(e,t,n,r){if(!e||!t||t.indexOf(D.a.Users)<0)return Object(g.a)();var a=Object(B.f)(n,e);return Object(D.f)(a.map((function(e){return r[e]})).sort(Q).slice(0,10))})),W,(function(e,t){return t.injectedItems}),(function(e,t){return t.query}),(function(e,t){return t.getUserExactMatch}),(function(e,t,n,r,a,o){var i=Object(E.a)(r||[],(function(e){return e.type===D.b.User?e.data.id_str:void 0})),s=t.filter((function(e){return i.indexOf(e.id)<0})),c=e.filter((function(e){return i.indexOf(e.id)<0})),u=Object(b.a)(s,c).slice(0,10),l=n===I.a.LOADED,d=o&&o({query:a,hasResults:!!e.length,isLoaded:l}),p=d?[].concat(y()(u),[d]):u;return p.length?p:Object(g.a)()}))},Y=function(){return Object(S.createSelector)(X(),Object(S.createSelector)(z,W,(function(e,t){return t.query}),(function(e,t){return t.maxTopics}),(function(e,t){return t.getTopicExactMatch}),(function(e,t,n,r,a){var o=t===I.a.LOADED,i=a&&a({query:n,hasResults:!!e.length,isLoaded:o}),s=e.slice(0,r||3);return i&&s.push(i),s.length?s:Object(g.a)()})),Object(S.createSelector)(G,W,(function(e,t){return t.query}),(function(e,t){return t.maxEvents}),(function(e,t){return t.filter}),(function(e,t,n,r,a){var o=n&&a&&a.indexOf(D.a.Events)>=0,i=e.slice(0,r||1);return i.length&&o?i:Object(g.a)()})),Object(S.createSelector)(V,W,(function(e,t){return t.query}),(function(e,t){return t.filter}),(function(e,t,n,r){var a=n&&r&&r.indexOf(D.a.Lists)>=0;return e.length&&a?e:Object(g.a)()})),(function(e,t){return t.injectedItems}),(function(e,t,n,r,a){var o=a&&a.length?a:null;return t.length||e.length||n.length||r.length?Object(x.a)([o,n.length?n:void 0,t.length?t:void 0,e.length?e:void 0,r.length?r:void 0]):o?[o]:Object(g.a)()}))},J=Object(_.a)().propsFromState((function(){return{fetchStatus:W,items:Y()}})).propsFromActions((function(){return{createLocalApiErrorHandler:Object(v.d)("TYPEAHEAD_DROPDOWN_CONTAINER_CONTEXT"),fetchTypeaheadIfNeeded:U,prefetchTypeaheadUsersIfNeeded:B.b}})).withAnalytics({element:"typeahead"}),Z=n("kIAd"),$=n("Rp9C"),ee=(n("AxOO"),n("w6IS")),te=n("7nmT"),ne=n.n(te),re=n("ZcYN"),ae=n("3xO4"),oe=n.n(ae),ie=n("I7xG"),se=n("JYMr"),ce=n("0yYu"),ue=n("rHpw"),le=n("MXDK"),de=function(e){function t(t,n){var r;return r=e.call(this,t)||this,h()(u()(r),"_setFocusedItemRef",(function(e){var t=ne.a.findDOMNode(e);r._shouldScrollToFocusedItem&&t instanceof window.Element&&(Object(le.c)(r._getScrollParent(),t),r._shouldScrollToFocusedItem=!1)})),h()(u()(r),"_resetScroll",(function(){var e=r._getScrollParent();e&&(e.scrollTop=0)})),h()(u()(r),"_handleItemClick",(function(e,t){var n=r.props.onItemClick,a=r._getFlattenedItems().indexOf(e);e&&!t&&!r._shouldBlockInteractivity&&n(e,a),r._resetFocus()})),h()(u()(r),"_getResultCount",(function(){return r._getFlattenedItems().length})),h()(u()(r),"_getFlattenedItems",Object(ie.a)(u()(r),(function(e){return e.items}),(function(e){return Object(ee.a)(e)}))),h()(u()(r),"_setFocusIndex",(function(e,t){var n=r.props.onItemFocusChanged;r._shouldScrollToFocusedItem=t,r.setState({focusIndex:e}),n&&n(r._getFlattenedItems()[e])})),h()(u()(r),"_resetFocus",(function(){r._setFocusIndex(r.props.withItemAlwaysSelected?0:-1)})),h()(u()(r),"focusNext",(function(){var e=r.state.focusIndex,t=r._getResultCount();if(0!==t){var n=e+1>=t?0:e+1;r._setFocusIndex(n,!0)}})),h()(u()(r),"focusPrevious",(function(){var e=r.state.focusIndex,t=r._getResultCount();if(0!==t){var n=e-1<0?t-1:e-1;r._setFocusIndex(n,!0)}})),h()(u()(r),"hasFocusedItem",(function(){var e=r.state.focusIndex,t=r._getFlattenedItems();return e>=0&&t.length>e})),h()(u()(r),"selectFocusedItem",(function(){var e=r.state.focusIndex,t=r.props.getItemIsDisabled;if(r.hasFocusedItem()){var n=r._getFlattenedItems()[e],a=!!t&&t(n,n.data);r._handleItemClick(n,a)}})),r.state={focusIndex:t.withItemAlwaysSelected?0:-1,showProgressBar:!1},r}d()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._resetFocus()},n.componentWillUnmount=function(){clearTimeout(this._interactivityTimeout),clearTimeout(this._delayedProgressTimeout)},n.UNSAFE_componentWillReceiveProps=function(e){var t=this;e.items!==this.props.items&&(this._resetFocus(),this._resetScroll()),!this.props.isLoading&&e.isLoading&&(this._delayedProgressTimeout=setTimeout((function(){return t.setState({showProgressBar:!0})}),Z.a)),this.props.isLoading&&!e.isLoading&&(clearTimeout(this._delayedProgressTimeout),this.setState({showProgressBar:!1}))},n.componentDidUpdate=function(e){var t=this;e.items!==this.props.items&&(this._interactivityTimeout&&clearTimeout(this._interactivityTimeout),this._shouldBlockInteractivity=!0,this._interactivityTimeout=setTimeout((function(){t._shouldBlockInteractivity=!1}),500))},n.render=function(){var e=this,t=this.props,n=t.domId,r=t.isLoading,a=t.items,o=t.selectedItems,i=t.style,s=t.renderNoResultsState,c=this.state.showProgressBar,u=r||a.length,l=0,d=!!o;return u?f.createElement(oe.a,{accessibilityRole:"listbox","aria-multiselectable":d,nativeID:n,style:i},f.createElement(se.a,{ariaValueText:c?"Loading results":"",indeterminate:c,style:!c&&pe.hidden}),a.length?a.map((function(t,n){var r=!Array.isArray(a[n-1])&&n>0,o=n<a.length-1,i=Array.isArray(t)?e._renderTypeaheadGroup(t,l,r,o):e._renderTypeaheadItem(t,l);return l+=Array.isArray(t)?t.length:1,i})):null):s?f.createElement(oe.a,{style:i},s()):null},n._renderTypeaheadGroup=function(e,t,n,r){var a=this,o=this.props.withSectionDivider;return f.createElement(f.Fragment,{key:"typeaheadGroup-"+t},o&&n?f.createElement(ce.a,{key:"typeaheadDividerTop-"+t}):null,e.map((function(e,n){return a._renderTypeaheadItem(e,t+n)})),o&&r?f.createElement(ce.a,{key:"typeaheadDividerBottom-"+t}):null)},n._renderTypeaheadItem=function(e,t){var n=this.props,r=n.ariaDescendantId,a=n.getItemDisabledMessage,o=n.getItemIsDisabled,i=n.renderUserDecoration,s=n.selectedItems,c=this.state.focusIndex,u=!(!s||!e.id)&&s.indexOf(e.id)>=0,l=!!s,d=c===t,p=o&&o(e,e.data),h=a&&a(e,e.data);return f.createElement(re.b,{disabledMessage:h,domId:d?r:void 0,isDisabled:p,isFocused:d,isInMultiSelect:l,isSelected:u,item:e,key:"typeaheadItem-"+t+"-"+(e.id||""),onClick:this._handleItemClick,onRef:d?this._setFocusedItemRef:void 0,renderUserDecoration:i})},n._getScrollParent=function(){if(!this._scrollParent){var e=Object(le.a)(ne.a.findDOMNode(this));this._scrollParent=e===window?null:e}return this._scrollParent},t}(f.Component),pe=ue.a.create((function(e){return{hidden:{visibility:"hidden"}}})),he=(n("aWzz"),n("VY6S")),fe=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,h()(u()(r),"_fetchTypeaheadResultsIfNeeded",(function(e){(null==e?void 0:e.query)&&e.fetchTypeaheadIfNeeded({q:e.query,src:e.source,result_type:e.filter.join(","),context_text:e.contextText,topic_type:e.topicType}).catch(e.createLocalApiErrorHandler({}))})),h()(u()(r),"_setComponentRef",(function(e){r._componentRef=e})),h()(u()(r),"focusNext",(function(){r._componentRef&&r._componentRef.focusNext()})),h()(u()(r),"focusPrevious",(function(){r._componentRef&&r._componentRef.focusPrevious()})),h()(u()(r),"selectFocusedItem",(function(){r._componentRef&&r._componentRef.selectFocusedItem()})),h()(u()(r),"hasFocusedItem",(function(){return r._componentRef&&r._componentRef.hasFocusedItem()})),h()(u()(r),"_handleItemClick",(function(e,t){var n=r.props,a=n.analytics,o=n.onItemClick,i=n.query;o(e,t),a.scribe({action:"click",data:{search_details:{query:i},targets:[$.a.forTypeaheadResult(e,t)]}})})),h()(u()(r),"_scribeResults",(function(){var e=r.props,t=e.analytics,n=e.items,a=e.query,o=Object(x.a)(Object(ee.a)(n).map((function(e,t){return $.a.forTypeaheadResult(e,t)})));t.scribe({action:"impression",data:{items:o,search_details:{query:a}}})})),r._debouncedFetchTypeaheadResultsIfNeeded=Object(he.a)(r._fetchTypeaheadResultsIfNeeded,250),r.state={shouldShowPrefetchResults:!0},r}d()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.createLocalApiErrorHandler,n=e.onRef,r=e.prefetchTypeaheadUsersIfNeeded;n&&n(this),this._debouncedFetchTypeaheadResultsIfNeeded(this.props),r().catch(t({}))},n.componentWillUnmount=function(){this.props.onRef&&this.props.onRef(void 0),clearTimeout(this._prefetchResultsTimer)},n.UNSAFE_componentWillReceiveProps=function(e){var t=this,n=this.props,r=n.onRef,a=n.query,o=n.filter,i=n.source,s=e.query,c=e.filter,u=e.source;r&&r!==e.onRef&&r(void 0),s===a&&c===o&&u===i||(this._debouncedFetchTypeaheadResultsIfNeeded(e),e.shouldDeferPrefetch&&(clearTimeout(this._prefetchResultsTimer),this.setState({shouldShowPrefetchResults:!1}),this._prefetchResultsTimer=setTimeout((function(){t.props.query&&t.props.fetchStatus!==I.a.LOADED&&t.setState({shouldShowPrefetchResults:!0})}),Z.a)))},n.componentDidUpdate=function(e){var t=this.props,n=t.onRef,r=t.items;n&&n!==e.onRef&&n(this),(null==r?void 0:r.length)&&r!==e.items&&this._scribeResults()},n.render=function(){var e=this.props,t=(e.analytics,e.contextText,e.filter,e.getTopicExactMatch,e.getUserExactMatch,e.injectedItems),n=e.items,r=(e.onRef,e.onItemClick,e.query),a=(e.shouldDeferPrefetch,e.source,e.topicType,e.fetchStatus),i=(e.createLocalApiErrorHandler,e.fetchTypeaheadIfNeeded,e.maxEvents,e.maxTopics,e.prefetchTypeaheadUsersIfNeeded,s()(e,["analytics","contextText","filter","getTopicExactMatch","getUserExactMatch","injectedItems","items","onRef","onItemClick","query","shouldDeferPrefetch","source","topicType","fetchStatus","createLocalApiErrorHandler","fetchTypeaheadIfNeeded","maxEvents","maxTopics","prefetchTypeaheadUsersIfNeeded"])),c=r&&a!==I.a.LOADED,u=c&&!this.state.shouldShowPrefetchResults?t:n;return f.createElement(de,o()({},i,{isLoading:!!c,items:u,onItemClick:this._handleItemClick,ref:this._setComponentRef}))},t}(f.Component);h()(fe,"defaultProps",{filter:[D.a.Users],injectedItems:[],maxEvents:3,maxTopics:1});var me=J(fe);t.a=me},OhSZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("z84I"),n("ho0z");var r=n("ERkP"),a=n("aWyx"),o=n("XnpN"),i=n("jV+4"),s=n("t62R"),c=n("p9G8"),u=function(e){return void 0===e&&(e=[]),e.map((function(e){return e.data}))},l=function(e){var t=e.conversation,n=e.newConversationParticipants,r=e.perspective;if(t)return t.type===a.a.ONE_TO_ONE?Object(o.a)(t,r).map((function(e){return e.user}))[0].name:Object(c.a)(t,r);var i=u(n);return Object(c.b)(i,r)};t.b=function(e){var t=e.conversation,n=e.newConversationParticipants,l=e.perspective,d=e.titleWeight,p=void 0===d?"bold":d,h=e.textColor,f=void 0===h?"normal":h,m=e.withScreenName,y=void 0===m||m;if(t){if(t.type===a.a.ONE_TO_ONE){var _=Object(o.a)(t,l).map((function(e){return e.user}))[0];return r.createElement(i.a,{color:f,isProtected:_.protected,isVerified:_.verified,name:_.name,screenName:_.screen_name,weight:p,withLink:!1,withScreenName:y})}return r.createElement(s.c,{color:f,numberOfLines:1,weight:p},Object(c.a)(t,l))}var v=u(n);return r.createElement(s.c,{color:f,numberOfLines:1,weight:p},Object(c.b)(v,l))}},V2l4:function(e,t,n){"use strict";n.r(t),n.d(t,"UserPicker",(function(){return E}));n("2G9S"),n("vrRf"),n("z84I"),n("ho0z");var r=n("1Pcy"),a=n.n(r),o=n("W/Kd"),i=n.n(o),s=n("KEM+"),c=n.n(s),u=n("ERkP"),l=n("ZcYN"),d=n("3XMw"),p=n.n(d),h="searchPeople",f=n("4e/K"),m=n("3xO4"),y=n.n(m),_=n("aV/s"),v=n("rHpw"),S=n("GZwR"),b=[S.a.Users],g=p.a.fc9dd578,I=p.a.gdb7bc24,E=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,c()(a()(r),"_renderSelectedUsersList",(function(){var e=r.props.selectedUsers;return u.createElement(y.a,{style:x.selectedUsersList},e.map(r._renderSelectedUserPill))})),c()(a()(r),"_renderSelectedUserPill",(function(e){var t,n=r.props.withCompactPills,o=r.props.onRemove.bind(a()(r),e);return e.type===S.b.User&&(t=e.data.profile_image_url_https),u.createElement(_.a,{accessibilityLabel:I({name:e.data.name}),compact:n,key:e.id,mode:"remove",onClick:o,style:x.selectionPill,text:e.data.name,userAvatarURI:t})})),c()(a()(r),"_getItemIsDisabled",(function(e){var t=r.props,n=t.getItemIsDisabled;return t.preselectedUsers.indexOf(e.id)>=0||!(!n||!n(e))})),c()(a()(r),"_getItemDisabledMessage",(function(e){var t=r.props,n=t.getItemDisabledMessage;return t.preselectedUsers.indexOf(e.id)>=0?null:n&&n(e)})),c()(a()(r),"_handleQueryChange",(function(e){var t=r.props.onQueryChange;r.setState({query:e}),t&&t(e)})),c()(a()(r),"_handleOnSelect",(function(e){var t=r.props.onSelect;t&&t(e)})),r.state={query:""},r}return i()(t,e),t.prototype.render=function(){var e=this.props,t=e.injections,n=e.selectedUsers,r=e.shouldAutoFocus,a=e.preselectedUsers,o=e.source,i=n.map((function(e){return e.id})).concat(a);return u.createElement(y.a,{style:x.root},u.createElement(f.default,{alwaysOpen:!0,disableClearButton:!0,filter:b,getItemDisabledMessage:this._getItemDisabledMessage,getItemIsDisabled:this._getItemIsDisabled,injectedItems:t,isModal:!0,onItemClick:this._handleOnSelect,onQueryChange:this._handleQueryChange,placeholder:g,renderInSearchField:n.length?this._renderSelectedUsersList:null,renderUserDecoration:l.a,selectedItems:i,shouldAutoFocus:r,shouldClearOnSelect:!0,shouldFocusOnClear:!0,source:o,testID:h,withSectionDivider:!1}))},t}(u.Component);c()(E,"defaultProps",{preselectedUsers:[],shouldAutoFocus:!0,withCompactPills:!1});var x=v.a.create((function(e){return{root:{flex:1},selectionPill:{margin:e.spaces.xxSmall},selectedUsersList:{flexDirection:"row",flexWrap:"wrap",padding:e.spaces.xxSmall}}}));t.default=E},XnpN:function(e,t,n){"use strict";n("2G9S"),n("tQbP");var r=n("RhWx"),a=n.n(r),o=n("aWyx"),i=(n("LW0h"),n("z84I"),n("6U7i"),n("t0aI")),s=function(e){return void 0===e&&(e=0),new Date(Number(e))},c=function(e,t){return s(e.join_time)-s(t.join_time)},u=function(e,t){var n=e.user,r=t.user;return Object(i.a)(n.id_str,r.id_str)},l=function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return t.map((function(t){return t(e,n)})).filter((function(e){return!!e}))[0]||0}}(function(e){return function(t,n){var r=t.user,a=n.user;switch(e){case r.id_str:return-1;case a.id_str:return 1;default:return 0}}}(e),c,u)},d=n("tn7R"),p=n("VIKJ");t.a=function(e,t){var n=e.participants,r=e.type,i=e.created_by_user_id,s=Object(d.a)(n),c=Object(p.a)(s,(function(e){return e.user.id_str===t})),u=c[0],h=c[1];return h.length?r===o.a.GROUP&&1===h.length?[].concat(a()(u),a()(h)):i?h.sort(l(i)):h:u}},ZL4l:function(e,t,n){"use strict";n("IAdD"),t.__esModule=!0,t.default=void 0;var r=i(n("7DT3")),a=i(n("ERkP")),o=i(n("OkZJ"));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return void 0===e&&(e={}),(0,r.default)("svg",Object.assign({},e,{style:[o.default.root,e.style],viewBox:"0 0 15 15"}),a.default.createElement("g",null,a.default.createElement("path",{d:"M8.914 7.5l5.793-5.793c.39-.39.39-1.023 0-1.414s-1.023-.39-1.414 0L7.5 6.086 1.707.293c-.39-.39-1.023-.39-1.414 0s-.39 1.023 0 1.414L6.086 7.5.293 13.293c-.39.39-.39 1.023 0 1.414.195.195.45.293.707.293s.512-.098.707-.293L7.5 8.914l5.793 5.793c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414L8.914 7.5z"})))};s.metadata={height:15,width:15};var c=s;t.default=c},ZcYN:function(e,t,n){"use strict";n.d(t,"a",(function(){return ce}));n("2G9S"),n("ho0z"),n("uFXj");var r=n("Y9Ll"),a=n.n(r),o=n("1Pcy"),i=n.n(o),s=n("W/Kd"),c=n.n(s),u=n("KEM+"),l=n.n(u),d=n("ERkP"),p=n("5/+E"),h=n.n(p),f=n("k/38"),m=n("v6aA"),y=n("rxPX"),_=n("AQOc"),v=n("V5Qi"),S=n("G6rE"),b=function(e,t){return t.conversationId},g=function(e,t){return Object(v.a)(e,b(0,t))},I=Object(y.a)().propsFromState((function(){return{conversationId:b,conversation:g,users:S.e.selectAll}})).adjustStateProps((function(e){e.conversationId;var t=e.conversation,n=e.users;return{conversation:t&&Object(_.b)(t.data,void 0,n)}})),E=n("aA19"),x=n("OhSZ"),w=n("5mJL"),R=n("rHpw"),C=R.a.create((function(e){return{root:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical,width:"100%"},avatarColumn:{flexGrow:1,maxWidth:e.spaces.xLarge,minWidth:"32px"},bodyColumn:{flexGrow:7,alignItems:"center",flexDirection:"row",justifyContent:"space-between"},disabled:{opacity:.6,backgroundColor:e.colors.faintGray}}})),O=I((function(e){var t=e.conversation,n=e.perspective,r=e.isDisabled,a=e.isSelected;return t?d.createElement(w.a,{avatarCell:d.createElement(E.a,{conversation:t,perspective:n,size:"xLarge"}),avatarCellStyle:C.avatarColumn,avatarSize:"xLarge",cellStyle:C.bodyColumn,style:[C.root,!a&&r&&C.disabled]},d.createElement(x.b,{conversation:t,perspective:n}),ce({isSelected:a})):null})),D=n("3xO4"),T=n.n(D),A=(n("z84I"),n("97Jx")),k=n.n(A),F=n("LdEA"),j=n.n(F),P=function(e){function t(){return e.apply(this,arguments)||this}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.style,r=e.withGutter,a=j()(e,["children","style","withGutter"]),o=d.Children.map(t,(function(e){return e&&d.cloneElement(e,{style:[e.props.style,N.column,r&&N.withGutterColumn]})}));return d.createElement(T.a,k()({style:[n,N.root,r&&N.withGutter]},a),o)},t}(d.Component);l()(P,"defaultProps",{withGutter:!1});var N=R.a.create((function(e){return{root:{flexDirection:"row"},column:{flexBasis:0,minWidth:0},withGutter:{marginHorizontal:"-"+e.spaces.xxSmall},withGutterColumn:{marginHorizontal:e.spaces.xxSmall}}})),L=P,U=n("t62R"),M=n("9Xij"),B=n("TIdA"),q=n("A91F"),K=function(e){function t(){return e.apply(this,arguments)||this}return c()(t,e),t.prototype.render=function(){var e=this.props,t=e.image,n=e.event,r=e.supportText;return d.createElement(T.a,{style:W.root},d.createElement(L,{withGutter:!0},d.createElement(T.a,{style:W.bodyColumn},r?d.createElement(U.c,{color:"deepGray",size:"small"},r):null,d.createElement(U.c,{numberOfLines:1},n)),t?d.createElement(T.a,{style:W.coverContainer},d.createElement(M.a,{ratio:1},d.createElement(B.a,{accessibilityLabel:"",aspectMode:q.a.SQUARE,image:t}))):null))},t}(d.PureComponent),W=R.a.create((function(e){return{root:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.small},bodyColumn:{flexGrow:7,justifyContent:"center"},coverContainer:{backgroundColor:e.colors.lightGray,borderRadius:e.borderRadii.medium,flexGrow:1,justifyContent:"flex-end",maxHeight:"100px",maxWidth:"100px",overflow:"hidden",width:"25%"}}})),H=K,z=n("GZwR"),G=n("hi+m"),V=n.n(G),Q=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.isDisabled,n=e.resultContext,r=e.topic;return d.createElement(T.a,{style:[X.root,t&&X.disabled]},d.createElement(U.c,{weight:"bold",withHashflags:!0},r),n?d.createElement(T.a,{style:X.context},this._renderIcon(),d.createElement(U.c,{color:"deepGray"},n.display_string)):null)},n._renderIcon=function(){var e=this.props.resultContext;return e&&e.types[0]&&"followable_topic"===e.types[0].type?d.createElement(V.a,{style:X.icon}):null},t}(d.PureComponent),X=R.a.create((function(e){return{root:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.small},context:{alignItems:"center",flexDirection:"row"},icon:{color:e.colors.primary,height:e.fontSizes.small,paddingRight:e.spaces.xxSmall,width:e.fontSizes.small},disabled:{backgroundColor:e.colors.faintGray}}})),Y=Q,J=n("3XMw"),Z=n.n(J),$=n("tocL"),ee="TypeaheadUser",te=n("IMA+"),ne=Z.a.ae2205d1,re=Z.a.d960b55b,ae=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.avatarUri,n=e.disabledMessage,r=e.isDisabled,a=e.isProtected,o=e.isVerified,i=e.name,s=e.screenName,c=e.decoration,u=e.userId,l=this._getSocialContext(),p=this._getResultContext(),h=l||p;return d.createElement(te.a,{avatarSize:"xLarge",avatarUri:t,decoration:c,disabledMessage:r?n:void 0,displayMode:"UserCompact",isProtected:a,isVerified:o,name:i,screenName:s,socialContext:h,testID:ee,userId:u,withLink:!1})},n._getSocialContext=function(){var e=this.props.socialContext;if(e&&e.following){var t=e.followed_by?ne:re;return{contextType:$.a.Follow,text:t}}},n._getResultContext=function(){var e=this.props.resultContext;if(e&&e.display_string&&e.types)return{contextType:"num_tweets"===e.types[0].type?$.a.NewTweets:$.a.Follow,text:e.display_string}},t}(d.PureComponent),oe=n("htQn"),ie=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,l()(i()(t),"_onViewRef",(function(e){t._viewRef=e;var n=t.props.onRef;n&&n(e)})),l()(i()(t),"_handleClick",(function(){var e=t.props.item;t.props.onClick&&t.props.onClick(e,t.isDisabled)})),t}c()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this._loaded=!0,this._viewRef&&(this._rafId=window.requestAnimationFrame((function(){e._viewRef&&e._viewRef.setNativeProps({style:{opacity:1}})})))},n.componentWillUnmount=function(){this._rafId&&window.cancelAnimationFrame(this._rafId)},n.render=function(){var e=this.props,t=e.domId,n=e.isDisabled,r=e.isFocused,a=e.isInMultiSelect,o=e.isSelected,i=e.style;return d.createElement(T.a,{accessibilityRole:"option","aria-checked":!(!a||!o)||void 0,"aria-selected":n?void 0:a&&o||!a&&!!r,nativeID:t},d.createElement(oe.a,{accessibilityRole:a?"checkbox":"button",accessible:!0,disabled:n,onPress:this._handleClick,style:[se.root,r&&se.focused,se.transitionStyles,this._loaded&&se.loaded,i],viewRef:this._onViewRef},this._renderResult()))},n._renderResult=function(){var e=this.props,t=e.item,n=e.disabledMessage,r=e.isDisabled,a=e.isSelected,o=e.renderUserDecoration;switch(t.type){case z.b.User:var i=t.data,s=o?o({userId:i.id_str,isSelected:a}):void 0;return d.createElement(ae,{avatarUri:i.profile_image_url_https,canDm:!!i.can_dm,canMediaTag:!!i.can_media_tag,decoration:s||void 0,disabledMessage:n,isDisabled:r,isProtected:!!i.protected,isVerified:!!i.verified,name:i.name,resultContext:i.result_context,screenName:i.screen_name,socialContext:i.social_context,userId:i.id_str});case z.b.Event:var c=t.data;return d.createElement(H,{event:c.topic,image:c.primary_image&&c.primary_image.original_info,supportText:c.supporting_text});case z.b.Hashtag:case z.b.Topic:var u=t.data;return d.createElement(Y,{isDisabled:r,resultContext:u.result_context,topic:u.topic});case z.b.DMConversation:return!!this.context.loggedInUserId&&d.createElement(O,{conversationId:t.id,isDisabled:r,isSelected:a,perspective:this.context.loggedInUserId});case z.b.NoResult:var l=t.data.text;return d.createElement(U.c,{style:se.noResult},l);case z.b.List:var p=t.data,h=t.listId,m=p.topic,y=p.supporting_text,_=p.primary_image,v=p.user,S={image:_.original_info,crop:_.focus_rects||[]};return d.createElement(f.a,{dataSaverMode:!1,description:y,isFollowing:!1,listId:h,media:S,name:m,user:v,withHoverCard:!1,withSubscribe:!1});default:return null}},a()(t,[{key:"isDisabled",get:function(){return!!this.props.isDisabled}}]),t}(d.Component);l()(ie,"contextType",m.a);var se=R.a.create((function(e){return{root:{borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},checkIcon:{color:e.colors.primary},noResult:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.spaces.small},loaded:{opacity:1},focused:{backgroundColor:e.colors.faintGray},transitionStyles:{transitionProperty:"opacity",transitionDuration:"250ms",opacity:0}}})),ce=function(e){return e.isSelected?d.createElement(h.a,{importantForAccessibility:"no-hide-descendants",style:se.checkIcon}):null};t.b=ie},aA19:function(e,t,n){"use strict";n("z84I"),n("M+/F"),n("hBvt"),n("uFXj");var r=n("W/Kd"),a=n.n(r),o=n("ERkP"),i=n("aWyx"),s=n("XnpN"),c=n("rHpw"),u=n("9Xij"),l=n("cm6r"),d=n("TIdA"),p=n("A91F"),h=n("oSwX"),f=n("D4le"),m=n.n(f),y=n("3xO4"),_=n.n(y),v=c.a.create((function(e){return{root:{borderRadius:e.borderRadii.infinite,overflow:"hidden"},container:{height:"auto",overflow:"hidden",width:"100%"},image:{borderRadius:0}}})),S=c.a.create((function(e){return{container:{flexDirection:"row"},left:{flex:1},right:{flex:1,marginLeft:e.borderWidths.small,marginRight:"calc(-1 * "+e.borderWidths.small+")"}}})),b=c.a.create((function(e){return{container:{flexDirection:"column"},top:{flex:1,marginBottom:e.borderWidths.small},bottom:{flex:1}}})),g=function(e){var t=e.left,n=e.right;return o.createElement(_.a,{style:S.container},o.createElement(_.a,{style:S.left},t),o.createElement(_.a,{style:S.right},n))},I=function(e){var t=e.top,n=e.bottom;return o.createElement(_.a,{style:b.container},o.createElement(_.a,{style:b.top},t),o.createElement(_.a,{style:b.bottom},n))},E=function(e){function t(){return e.apply(this,arguments)||this}a()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.link,n=e.conversation,r=e.perspective,a=n&&n.avatar_image_https,i=n?Object(s.a)(n,r).map((function(e){return e.user})):[],c=i.slice(0,3),d=this._avatarFromGroup(n)||this._avatarFromSrc(a)||this._avatarFromParticipants(c),p=t||this._defaultLink(n,i);return d?o.createElement(u.a,{ratio:1,style:v.root},p?o.createElement(l.a,{interactiveStyles:null,link:p},d):d):null},n._defaultLink=function(e,t){if(e)return e.type===i.a.GROUP?"/messages/"+e.conversation_id+"/participants":e.type===i.a.ONE_TO_ONE?"/"+t[0].screen_name:void 0},n._avatarFromGroup=function(e){var t=e&&e.avatar&&e.avatar.image&&e.avatar.image.original_info;return t?o.createElement(d.a,{accessibilityLabel:"",aspectMode:p.a.SQUARE,backgroundColor:c.a.theme.colors.fadedGray,image:t,rounded:!0}):null},n._avatarFromSrc=function(e){return e?o.createElement(m.a,{source:e}):null},n._avatarFromParticipants=function(e){var t=e.length;return 0===t?null:1===t?this._singleParticipantAvatar(e[0]):this._multipleParticipantAvatar(e)},n._singleParticipantAvatar=function(e){var t=this.props.size;return o.createElement(_.a,{key:e.id_str,style:v.container},o.createElement(h.default,{importantForAccessibility:"no-hide-descendants",size:t||"xxLarge",style:v.image,uri:e.profile_image_url_https}))},n._multipleParticipantAvatar=function(e){var t=e.length,n=e.map((function(e,n){var r=2===t||3===t&&0===n?.5:1;return o.createElement(_.a,{key:e.id_str,style:v.container},o.createElement(h.default,{aspectRatio:r,circle:!1,importantForAccessibility:"no-hide-descendants",size:"custom",style:v.image,uri:e.profile_image_url_https}))}));if(2===t)return o.createElement(g,{left:n[1],right:n[0]});var r=o.createElement(I,{bottom:n[2],top:n[1]}),a=n[0];return o.createElement(g,{left:r,right:a})},t}(o.Component);t.a=E},aWyx:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i}));n("yH/f");var r=Object.freeze({ONE_TO_ONE:"ONE_TO_ONE",GROUP:"GROUP_DM"}),a=Object.freeze({AT_END:"AT_END",HAS_MORE:"HAS_MORE"}),o=Object.freeze({CONVERSATION_AVATAR_UPDATE:"conversation_avatar_update",CONVERSATION_NAME_UPDATE:"conversation_name_update",CONVERSATION_PROFILE_INFO_HEADER:"conversation_profile_info_header",CONVERSATION_READ:"conversation_read",DISABLE_NOTIFICATIONS:"disable_notifications",ENABLE_NOTIFICATIONS:"enable_notifications",JOIN_CONVERSATION:"join_conversation",MARK_ALL_AS_READ:"mark_all_as_read",MENTION_NOTIFICATIONS_UPDATE:"mention_notifications_setting_update",MESSAGE:"message",MESSAGE_DELETE:"message_delete",MESSAGE_MARK_AS_NOT_SPAM:"message_unmark_as_spam",MESSAGE_MARK_AS_SPAM:"message_mark_as_spam",PARTICIPANTS_JOIN:"participants_join",PARTICIPANTS_LEAVE:"participants_leave",REACTION_CREATE:"reaction_create",REACTION_DELETE:"reaction_delete",READ_ONLY_INDICATOR:"read_only_indicator",REMOVE_CONVERSATION:"remove_conversation",TRUST_CONVERSATION:"trust_conversation",TYPING_INDICATOR:"typing_indicator",WELCOME_MESSAGE:"welcome_message_create"}),i=Object.freeze({MUTUAL_FRIENDS:"mutual_friends"})},bJYH:function(e,t,n){"use strict";n.r(t),n.d(t,"GenericTypeaheadComposeWrapper",(function(){return D}));n("IAdD"),n("uFXj");var r=n("1Pcy"),a=n.n(r),o=n("W/Kd"),i=n.n(o),s=n("KEM+"),c=n.n(s),u=n("ERkP"),l=n("oEoC"),d=n("aWzz"),p=n("oQhu"),h=n("7nmT"),f=n.n(h),m=n("7JQg"),y=n("WPfJ"),_=n("OEYw"),v=n("3xO4"),S=n.n(v),b=n("Irs7"),g=n("0FVZ"),I=n("xoZN"),E=n("rHpw"),x=n("GZwR"),w={component:"compose"},R=[x.a.Users],C=[x.a.Topics],O=0,D=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,c()(a()(r),"_typeaheadActive",!1),c()(a()(r),"_renderTypeaheadDropdown",(function(e){var t=r.props,n=t.contextText,a=t.isInline,o=t.onSelectItem,i=t.source,s=r.context.isModal,c=e.resultType===x.a.Topics?"hashtag":void 0,l=u.createElement(_.a,{ariaDescendantId:r.state.ariaDescendantId,contextText:n,domId:r._dropdownDomId,filter:r._getFilter(e.resultType),maxTopics:8,onItemClick:o,onItemFocusChanged:r._handleItemFocusChanged,onRef:r._handleTypeaheadRef,query:e.word,source:i,style:r._calcStyle(),topicType:c,withItemAlwaysSelected:!0});return s||a?u.createElement(g.a.HalfSheet,null,u.createElement(m.b,{namespace:w},u.createElement(u.Fragment,null,u.createElement(S.a,{onClick:r._handleDismiss,style:T.mask}),l))):u.createElement(u.Fragment,null,u.createElement(S.a,{onClick:r._handleDismiss,style:T.mask}),l)})),c()(a()(r),"render",(function(){var e=r.props,t=e.children,n=e.query,a=u.cloneElement(t,{ariaAutocomplete:"list",ariaControls:r._dropdownDomId,ariaActiveDescendant:r.state.ariaDescendantId,ref:function(e){r._textInputNode=f.a.findDOMNode(e),r._textInputRef=e;var n=t.ref;n&&n(e)}});return u.createElement(S.a,{style:T.inputContainer},u.createElement(I.a,{onKeyDown:r._handleKeyDown},a,r._textInputNode&&n?r._renderTypeaheadDropdown(n):null))})),c()(a()(r),"_getFilter",(function(e){return"users"===e?R:C})),c()(a()(r),"_calcStyle",(function(){var e=r.context.isModal,t=r.props.isInline,n=r._textInputNode,a=window.innerHeight,o=window.innerWidth,i=r._textInputRef&&r._textInputRef.getTextInputHeight()||20;if(n instanceof window.HTMLElement){var s=n.getBoundingClientRect();return e||t?[r._getDropdownPositioningStyle(a,o,s.top,s.top+i,s.left),T.dropdownStyle]:[r._getInlinePositioningStyle(i),T.inlineStyle]}return[r._getDropdownPositioningStyle(i,o,0,0,0),T.dropdownStyle]})),c()(a()(r),"_handleKeyDown",(function(e){var t=r.state.selectedItem,n=r.props,a=n.onSelectItem,o=n.query,i=e.key;l.e(e)&&o&&("ArrowDown"===i?(r._typeaheadRef&&r._typeaheadRef.focusNext(),e.preventDefault()):"ArrowUp"===i?(r._typeaheadRef&&r._typeaheadRef.focusPrevious(),e.preventDefault()):"Enter"===i||"Tab"===i?t&&(a(t),e.preventDefault()):"Escape"===i&&(r._handleDismiss(),e.preventDefault()))})),c()(a()(r),"_handleItemFocusChanged",(function(e){return r.setState({ariaDescendantId:l.b(),selectedItem:e})})),c()(a()(r),"_handleTypeaheadRef",(function(e){r._typeaheadRef=e})),c()(a()(r),"_handleDismiss",(function(){r._textInputRef&&r._textInputRef.focus(),r.props.onDismiss()})),c()(a()(r),"_getDropdownHeight",Object(p.a)((function(e,t){var n=50*e/100;return n>t?t:n}))),c()(a()(r),"_getDropdownPositioningStyle",Object(p.a)((function(e,t,n,a,o){void 0===n&&(n=0),void 0===a&&(a=0),void 0===o&&(o=0);var i=e-a,s=n,c=s>i,u=i/e<.5,l=t-o-10,d=Math.min(l,300);return u&&c?{bottom:e-n+"px",left:o+"px",maxHeight:r._getDropdownHeight(e,s-10)+"px",maxWidth:l+"px",minWidth:d+"px"}:{top:a+"px",left:o+"px",maxHeight:r._getDropdownHeight(e,i-10)+"px",maxWidth:l+"px",minWidth:d+"px"}}))),c()(a()(r),"_getInlinePositioningStyle",Object(p.a)((function(e){return{position:"absolute",top:(e||0)+"px",overflowX:"hidden",overflowY:"auto"}}))),r.state={ariaDescendantId:l.b()},r._dropdownDomId="typeaheadDropdownWrapped-"+O,O+=1,r}i()(t,e);var n=t.prototype;return n.componentDidUpdate=function(){var e=this.props,t=e.onTypeaheadStateChange,n=e.query,r=!(!this._textInputNode||!n);r!==this._typeaheadActive&&(this._typeaheadActive=r,t&&t(r))},n.resetSelectedItem=function(){this.setState({selectedItem:void 0})},t}(u.Component);c()(D,"contextTypes",{isModal:d.bool}),c()(D,"defaultProps",{source:x.d.Compose});var T=E.a.create((function(e){return{dropdownStyle:{backgroundColor:e.colors.cellBackground,borderRadius:e.borderRadii.medium,boxShadow:e.boxShadows.medium,minHeight:100,position:"fixed",overflowX:"hidden",overflowY:"auto"},mask:Object.assign({},E.a.absoluteFillObject,{position:"fixed"}),inlineStyle:{backgroundColor:e.colors.cellBackground,right:0,left:0,borderTopColor:e.colors.borderColor,borderTopStyle:"solid",borderTopWidth:e.borderWidths.small,minHeight:100},inputContainer:{flexGrow:1,position:"static",width:"100%",zIndex:y.g}}}));t.default=Object(b.a)(D,w)},kIAd:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n("0vv5"),a=500,o={scoper:[{type:"dmUserSearch",regexp:/^[@＠]?(.*)|^$/,srcInputs:["compose_message"],scope:{result_type:"users",count:20}},{type:"username",regexp:/^[@＠](\w{1,20})/,srcInputs:["compose"],scope:{result_type:"users",count:20}},{type:"hashtag",regexp:n.n(r).a,srcInputs:["compose"],scope:{result_type:"topics",count:20}},{type:"topic",regexp:/(.+)/,srcInputs:["search_box"],scope:{result_type:"all"}},{type:"ttt",regexp:/(.+)/,srcInputs:["welcome_flow"],scope:{count:10,result_type:"topics,ttt"}}],WordBoundary:/[!'%&'()*+,\\\-./:;<=>?[\]^{|}~\s]|$/,WordEnd:/[^!'%&'()*+,\\\-./:;<=>?[\]^{|}~\s]+$/}},o52z:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("VPAj"),a=Object(r.a)([]);Object(r.a)({})},oEoC:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return l}));n("2G9S"),n("LW0h"),n("hBpG"),n("jwue"),n("vrRf"),n("z84I"),n("M+/F"),n("IAdD"),n("KqXw"),n("WNMA"),n("LJOr"),n("tVqn"),n("+oxZ");var r=n("RhWx"),a=n.n(r),o=n("kIAd");function i(e,t){var n,r=o.b.scoper.find((function(r){if(-1!==r.srcInputs.indexOf(t))return n=e.match(r.regexp)})),a="";return n&&(a=n&&(1===n.length?n[0]:n[1])),r?Object.assign({},r.scope,{src:t,q:a}):null}function s(e,t){var n=t.slice(0,e),r=t.slice(e,t.length),a=n.search(o.b.WordEnd),i=(a>=0?n.slice(a):"")+r.slice(0,r.search(o.b.WordBoundary));return i.trim()?{start:a,word:i}:{start:-1,word:""}}function c(){return"typeaheadFocus-"+Math.random()}function u(e){var t=e.altKey,n=e.ctrlKey,r=e.metaKey;return!(t||n||r)}function l(e,t){var n=[];e.forEach((function(e){var r=t.find((function(t){return t.id===e.id}));r&&r.data&&r.data.result_context?n.push(r):n.push(e)}));var r=n.map((function(e){return e.id})),o=t.filter((function(e){return r.indexOf(e.id)<0}));return[].concat(n,a()(o))}},p9G8:function(e,t,n){"use strict";n.d(t,"b",(function(){return p}));n("LW0h"),n("z84I"),n("M+/F"),n("ho0z"),n("+KXO");var r=n("aWyx"),a=n("XnpN"),o=n("3XMw"),i=n.n(o),s=r.a.GROUP,c=i.a.g755fcde,u=i.a.f6b1ff81,l=i.a.d27cf5ef,d=i.a.i3b60816;t.a=function(e,t){var n=e.type,r=e.name,o=e.participants,i=void 0===o?{}:o;if(n===s&&r)return r;if(Object.keys(i).length){var c=Object(a.a)(e,t).map((function(e){return e.user}));return p(c,t,n)}};var p=function(e,t,n){void 0===e&&(e=[]),void 0===n&&(n=s);var r=e.filter((function(e){return e.id_str!==t})),a=r[0],o=r.slice(1);switch(r.length){case 0:return c;case 1:return n===s?u({name:a.name}):a.name;case 2:return l({name1:a.name,name2:o[0].name});default:return d({name:a.name,count:o.length})}}},rRIm:function(e,t,n){"use strict";n.d(t,"b",(function(){return A}));n("2G9S"),n("IAdD"),n("KqXw"),n("LJOr");var r=n("1Pcy"),a=n.n(r),o=n("W/Kd"),i=n.n(o),s=n("KEM+"),c=n.n(s),u=n("ERkP"),l=n("sTyV"),d=n("rxPX"),p=n("G6rE"),h=Object(d.a)().propsFromState((function(){return{loggedInUser:p.e.selectLoggedInUser}})).adjustStateProps((function(e){var t=e.loggedInUser;return{loggedInUserScreenName:t?t.screen_name:void 0}})),f=n("3XMw"),m=n.n(f),y=n("V/Zl"),_=n("OrGc"),v=n("QK5w"),S=n("aITJ"),b=n("3xO4"),g=n.n(b),I=n("TnY3"),E=n("rHpw"),x=n("t62R"),w=n("uScj"),R=n("BcsE"),C=(n("aWzz"),m.a.b47e760d),O=m.a.fd2c7b43,D=new w.a,T=function(e){if(e.target instanceof HTMLInputElement){var t=e.target.tagName.toLowerCase();return"input"===t||"textarea"===t}return!1},A=function(e){return D.subscribe(e).unsubscribe},k=h(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,c()(a()(t),"_bindKeyboardShortcuts",(function(){var e,n,r,a=t.props,o=a.history,i=a.loggedInUserScreenName,s=function(e){return function(t){t.preventDefault(),D._listeners.length?D.notify(e):o.push({pathname:"/explore",state:{searchFocused:!0,searchPrefill:e}})}},c=((e={})[_.d.search]=s(),e[_.d.goToUser]=s("@"),e[_.d.openKeyboardShortcuts]=function(){return o.push("/i/keyboard_shortcuts")},e[_.d.goExplore]=function(){return o.push("/explore")},e[_.d.goSettings]=function(){return o.push("/settings")},e),u=i?((n={})[_.d.goProfile]=function(){return o.push("/"+i)},n[_.d.goLikes]=function(){return o.push("/"+i+"/likes")},n[_.d.goLists]=function(){return o.push("/"+i+"/lists")},n):{},d=Object.assign({},c,u,((r={})[_.d.goHome]=function(){return o.push("/home")},r[_.d.goDisplay]=function(){return o.push("/i/display")},r[_.d.goNotifications]=function(){return o.push("/notifications")},r[_.d.goMentions]=function(){return o.push("/notifications/mentions")},r[_.d.goMessages]=function(){return o.push("/messages")},r[_.d.newMessage]=function(){return o.push("/messages/compose")},r[_.d.newTweet]=function(){return o.push("/compose/tweet")},r[_.d.goBookmarks]=function(){return o.push("/i/bookmarks")},r)),p=t.props.loggedInUserScreenName?d:c;t._unbindKeyboardShortcuts=Object(l.a)(p)})),c()(a()(t),"_handleKeyDown",(function(e){T(e)||"Backspace"!==e.key||(t._backspaceDown=Date.now(),e.preventDefault(),e.stopPropagation())})),c()(a()(t),"_handleKeyUp",(function(e){if(!T(e)&&"Backspace"===e.key){e.preventDefault(),e.stopPropagation();var n=t._backspaceDown,r=!!Object(R.a)(n)&&Date.now()-n<500,a=Object(v.a)({},{location:t.props.location});r&&a?t.props.history.goBack():window.close()}})),t}i()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._bindKeyboardShortcuts(),S.a.isKaiOS()&&Object(y.a)()&&(document.addEventListener("keydown",this._handleKeyDown),document.addEventListener("keyup",this._handleKeyUp))},n.componentWillUnmount=function(){this._unbindKeyboardShortcuts&&this._unbindKeyboardShortcuts(),S.a.isKaiOS()&&Object(y.a)()&&(document.removeEventListener("keydown",this._handleKeyDown),document.removeEventListener("keyup",this._handleKeyUp))},n.render=function(){return this.props.loggedInUserScreenName?u.createElement(g.a,{accessibilityRole:"heading","aria-level":"2",style:E.a.visuallyHidden},u.createElement(x.c,null,C),u.createElement(x.c,{importantForAccessibility:"no",link:"/i/keyboard_shortcuts"},O)):null},t}(u.Component));t.a=Object(I.a)(k)},sYRn:function(e,t,n){"use strict";var r=n("ERkP"),a=n("eb3s"),o=n("3XMw"),i=n.n(o),s=i.a.hffea05c,c=i.a.j037e373,u=i.a.d96cf7cd;t.a=function(e){var t=e.onCancel,n=e.onConfirm;return r.createElement(a.a,{confirmButtonLabel:u,confirmButtonType:"destructive",headline:s,onCancel:t,onConfirm:n,text:c})}},v4XE:function(e,t,n){"use strict";n.d(t,"d",(function(){return y})),n.d(t,"c",(function(){return _})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return S}));n("2G9S"),n("LW0h"),n("IAdD"),n("7x/C"),n("JtPf");var r,a=n("RhWx"),o=n.n(a),i=n("kGix"),s=n("Ssj5"),c=n("RqPI"),u=n("oEOe"),l="rweb/savedSearches",d={fetchStatus:i.a.NONE,savedSearches:[]},p=Object(u.a)(l,"FETCH_SAVED_SEARCHES"),h=Object(u.a)(l,"SAVE_SEARCH"),f=Object(u.a)(l,"DELETE_SAVED_SEARCH");function m(e,t){switch(void 0===e&&(e=d),t.type){case p.SUCCESS:return Object.assign({},e,{fetchStatus:i.a.LOADED,savedSearches:t.payload});case p.FAILURE:return Object.assign({},e,{fetchStatus:i.a.FAILED});case h.SUCCESS:return Object.assign({},e,{savedSearches:[].concat(o()(e.savedSearches),[t.payload])});case f.SUCCESS:return Object.assign({},e,{savedSearches:e.savedSearches.filter((function(e){return e.id_str!==t.payload.id_str}))});default:return e}}s.a.register(((r={}).savedSearches=m,r));var y=function(e){return e.savedSearches.savedSearches},_=function(e){return function(t,n,r){var a=r.api;return Object(u.b)(t,{request:a.SavedSearches.create,params:{query:e}})({actionTypes:h,context:"SAVE_SEARCH"})}},v=function(e){return function(t,n,r){var a=r.api;return Object(u.b)(t,{request:a.SavedSearches.destroy,params:{id:e}})({actionTypes:f,context:"DELETE_SAVED_SEARCH"})}},S=function(){return function(e,t,n){n.api;var r=t();return Object(c.e)(r)?function(e){return e.savedSearches.fetchStatus}(r)===i.a.LOADED?Promise.resolve():e((function(e,t,n){var r=n.api;return Object(u.b)(e,{request:r.SavedSearches.fetch,params:{}})({actionTypes:p,context:"FETCH_SAVED_SEARCHES"})})):Promise.resolve()}}},wtjx:function(e,t,n){"use strict";n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return b}));n("LW0h"),n("Ee2X"),n("IAdD"),n("7x/C"),n("JtPf");var r,a=n("Ssj5"),o=n("RqPI"),i=function(e){return function(t,n,r){return r.userPersistence.set("rweb.recentSearches",{recentSearches:e}).catch((function(){Promise.resolve()}))}},s=function(e,t){var n=[];if(e&&e.user){var r=e.user;n=t.filter((function(e){return e.keyword||e.user&&e.user.id!==r.id}))}else if(e&&e.keyword){var a=e.keyword;n=t.filter((function(e){return e.keyword&&e.keyword.query!==a.query||e.user}))}return n},c={fetched:!1,recentSearches:[]};var u=function(e){return e.recentSearches.recentSearches},l=function(e){return u(e)[0]||null},d=function(e){return e.recentSearches.fetched},p="rweb/recentSearches/INIT_FROM_CACHE",h=function(e){return{type:p,payload:e}},f="rweb/recentSearches/REMOVE_QUERY",m=function(e){return function(t,n,r){r.userPersistence;t({payload:e,type:f});var a=n().recentSearches;return Object(o.e)(n())?t(i(a.recentSearches)):Promise.resolve()}},y="rweb/recentSearches/CLEAR_ALL",_=function(){return function(e,t,n){n.userPersistence;e({type:y});var r=t().recentSearches;return Object(o.e)(t())?e(i(r.recentSearches)):Promise.resolve()}},v="rweb/recentSearches/ADD_QUERY",S=function(e){return function(t,n,r){r.userPersistence;t({payload:e,type:v});var a=n().recentSearches;return Object(o.e)(n())?t(i(a.recentSearches)):Promise.resolve()}},b=function(){return function(e,t,n){n.userPersistence;return t().recentSearches.fetched?Promise.resolve():e((function(e,t,n){var r=n.userPersistence,a=t();return Object(o.e)(a)?r.get("rweb.recentSearches").then((function(t){e(h(t))})).catch((function(){e(h())})):(e(h()),Promise.resolve())}))}};a.a.register(((r={}).recentSearches=function(e,t){switch(void 0===e&&(e=c),t.type){case v:var n=t.payload,r=n?s(n,e.recentSearches):[];return r.length>49&&r.splice(49,1),n&&r.unshift(n),Object.assign({},e,{recentSearches:r});case f:var a=t.payload,o=a?s(a,e.recentSearches):[];return Object.assign({},e,{recentSearches:o});case y:return{fetched:!0,recentSearches:[]};case p:return Object.assign({},e,t.payload,{fetched:!0});default:return e}},r))}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/web_legacy/loader.Typeahead.cc564194.js.map